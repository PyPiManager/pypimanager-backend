2021-09-28 14:20:45 | INFO | server serve:64 - Started server process [1619174]
2021-09-28 14:20:45 | INFO | on startup:26 - Waiting for application startup.
2021-09-28 14:20:45 | INFO | on startup:38 - Application startup complete.
2021-09-28 14:20:45 | INFO | server _log_started_message:204 - Uvicorn running on http://0.0.0.0:5000 (Press CTRL+C to quit)
2021-09-28 14:20:55 | INFO | h11_impl send:467 - 127.0.0.1:55060 - "GET / HTTP/1.1" 200
2021-09-28 14:20:55 | INFO | h11_impl send:467 - 127.0.0.1:55060 - "GET /favicon.ico HTTP/1.1" 404
2021-09-28 14:21:00 | INFO | h11_impl send:467 - 127.0.0.1:55060 - "GET /docs HTTP/1.1" 200
2021-09-28 14:21:01 | INFO | h11_impl send:467 - 127.0.0.1:55060 - "GET /openapi.json HTTP/1.1" 200
2021-09-28 14:23:14 | INFO | h11_impl send:467 - 127.0.0.1:55096 - "GET /docs HTTP/1.1" 200
2021-09-28 14:23:14 | INFO | h11_impl send:467 - 127.0.0.1:55096 - "GET /openapi.json HTTP/1.1" 200
2021-09-28 14:25:06 | INFO | server shutdown:239 - Shutting down
2021-09-28 14:25:07 | INFO | on shutdown:43 - Waiting for application shutdown.
2021-09-28 14:25:07 | INFO | on shutdown:46 - Application shutdown complete.
2021-09-28 14:25:07 | INFO | server serve:77 - Finished server process [1619174]
2021-09-28 14:25:07 | INFO | server serve:64 - Started server process [1619754]
2021-09-28 14:25:07 | INFO | on startup:26 - Waiting for application startup.
2021-09-28 14:25:07 | INFO | on startup:38 - Application startup complete.
2021-09-28 14:25:07 | INFO | server _log_started_message:204 - Uvicorn running on http://0.0.0.0:5000 (Press CTRL+C to quit)
2021-09-28 14:25:11 | INFO | h11_impl send:467 - 127.0.0.1:55122 - "GET /docs HTTP/1.1" 200
2021-09-28 14:25:11 | INFO | h11_impl send:467 - 127.0.0.1:55122 - "GET /openapi.json HTTP/1.1" 200
2021-09-28 14:27:01 | INFO | server shutdown:239 - Shutting down
2021-09-28 14:27:01 | INFO | on shutdown:43 - Waiting for application shutdown.
2021-09-28 14:27:01 | INFO | on shutdown:46 - Application shutdown complete.
2021-09-28 14:27:01 | INFO | server serve:77 - Finished server process [1619754]
2021-09-28 14:28:10 | INFO | server serve:64 - Started server process [1620181]
2021-09-28 14:28:10 | INFO | on startup:26 - Waiting for application startup.
2021-09-28 14:28:10 | INFO | on startup:38 - Application startup complete.
2021-09-28 14:28:10 | INFO | server _log_started_message:204 - Uvicorn running on http://0.0.0.0:5000 (Press CTRL+C to quit)
2021-09-28 14:28:15 | INFO | h11_impl send:467 - 127.0.0.1:55146 - "GET /docs HTTP/1.1" 200
2021-09-28 14:28:15 | INFO | h11_impl send:467 - 127.0.0.1:55146 - "GET /openapi.json HTTP/1.1" 200
2021-09-28 14:28:22 | INFO | h11_impl send:467 - 127.0.0.1:55148 - "GET /pypimanager/v1/users/me/ HTTP/1.1" 401
2021-09-28 14:28:23 | INFO | h11_impl send:467 - 127.0.0.1:55148 - "GET /pypimanager/v1/users/me/ HTTP/1.1" 401
2021-09-28 14:29:42 | INFO | h11_impl send:467 - 127.0.0.1:55170 - "POST /pypimanager/v1/token HTTP/1.1" 500
2021-09-28 14:29:42 | ERROR | h11_impl run_asgi:399 - Exception in ASGI application

Traceback (most recent call last):

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 92, in <module>
    m.run_server()
    │ └ <function Manager.run_server at 0x7f03c32d88c0>
    └ <__main__.Manager object at 0x7f03c32d9550>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 87, in run_server
    server.run()
    │      └ <function Server.run at 0x7f03c5cb7a70>
    └ <uvicorn.server.Server object at 0x7f03c6536c90>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/server.py", line 49, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x7f03c5cb7b00>
    │    │                  └ <uvicorn.server.Server object at 0x7f03c6536c90>
    │    └ <function BaseEventLoop.run_until_complete at 0x7f03c5fc1680>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 574, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f03c5fc15f0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 541, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f03c5fc40e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 1786, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f03c60167a0>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f03c21cb910>(<Future finis...7f03c214d310>>)>
  File "/usr/local/lib/python3.7/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x7f03c21cb910>(<Future finis...7f03c214d310>>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x7f03c21cb910>(<Future finis...7f03c214d310>>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f03c21cb910>(<Future finis...7f03c214d310>>)>
> File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f03c21a27a0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f03c21a7ad0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f03c21a2830>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f03c21a7ad0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f03c21a7ad0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f03c3280f10>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f03c21a7ad0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f03c21a7ad0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f03c50b5950>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f03c3280f10>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f03c21a7ad0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f03c21a7ad0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f03c21a7ad0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f03c21a7ad0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f03c5d0dc50>
          └ <fastapi.applications.FastAPI object at 0x7f03c50b5950>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f03c21a5cb0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f03c21a7ad0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f03c3379150>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f03c5d0dc50>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:5000', 'connection': 'keep-alive', 'content-length': '77', 'sec-ch-ua': '"Chromium";v="92", " Not...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f03c21a5cb0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f03c21a7ad0>>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x7f03c46a0b00>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f03c3379150>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f03c3379150>>, ...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f03c21a7ad0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f03c3358ed0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f03c3379150>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f03c21a5ef0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f03c21a7ad0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f03c50ab690>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f03c3358ed0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f03c21a5ef0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f03c21a7ad0>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x7f03c46d57a0>
          └ <fastapi.routing.APIRoute object at 0x7f03c46a6210>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f03c21a5ef0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f03c21a7ad0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f03c3300200>
          └ <fastapi.routing.APIRoute object at 0x7f03c46a6210>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f03c21a7d90>
                     └ <function get_request_handler.<locals>.app at 0x7f03c334ef80>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
              │                 │                    └ True
              │                 └ {'form_data': <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f03c214d310>}
              └ <fastapi.dependencies.models.Dependant object at 0x7f03c3360090>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'form_data': <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f03c214d310>}
                 │         └ <function login_for_access_token at 0x7f03c33bb290>
                 └ <fastapi.dependencies.models.Dependant object at 0x7f03c3360090>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/routers/user.py", line 49, in login_for_access_token
    user = authenticate_user(form_data.username, form_data.password)
           │                 │         │         │         └ 'secret'
           │                 │         │         └ <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f03c214d310>
           │                 │         └ 'johndoe'
           │                 └ <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f03c214d310>
           └ <function authenticate_user at 0x7f03c33b6cb0>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/cruds/user.py", line 40, in authenticate_user
    user = get_user(username)
           │        └ 'johndoe'
           └ <function get_user at 0x7f03c33b6e60>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/cruds/user.py", line 36, in get_user
    return UserSecret(**user_dict)
           │            └ {'username': 'johndoe', 'full_name': 'John Doe', 'email': 'johndoe@example.com', 'hashed_password': '$2b$12$EixZaYVK1fsbw1Zfb...
           └ <class 'api.schemas.user.UserSecret'>

  File "pydantic/main.py", line 406, in pydantic.main.BaseModel.__init__
    raise validation_error

pydantic.error_wrappers.ValidationError: 2 validation errors for UserSecret
nickname
  field required (type=value_error.missing)
full_name
  extra fields not permitted (type=value_error.extra)
2021-09-28 14:33:07 | INFO | server shutdown:239 - Shutting down
2021-09-28 14:33:07 | INFO | on shutdown:43 - Waiting for application shutdown.
2021-09-28 14:33:07 | INFO | on shutdown:46 - Application shutdown complete.
2021-09-28 14:33:07 | INFO | server serve:77 - Finished server process [1620181]
2021-09-28 14:33:17 | INFO | server serve:64 - Started server process [1620855]
2021-09-28 14:33:17 | INFO | on startup:26 - Waiting for application startup.
2021-09-28 14:33:17 | INFO | on startup:38 - Application startup complete.
2021-09-28 14:33:17 | INFO | server _log_started_message:204 - Uvicorn running on http://0.0.0.0:5000 (Press CTRL+C to quit)
2021-09-28 14:33:20 | INFO | h11_impl send:467 - 127.0.0.1:55194 - "GET /docs HTTP/1.1" 200
2021-09-28 14:33:21 | INFO | h11_impl send:467 - 127.0.0.1:55194 - "GET /openapi.json HTTP/1.1" 200
2021-09-28 14:33:50 | INFO | server shutdown:239 - Shutting down
2021-09-28 14:33:50 | INFO | on shutdown:43 - Waiting for application shutdown.
2021-09-28 14:33:50 | INFO | on shutdown:46 - Application shutdown complete.
2021-09-28 14:33:50 | INFO | server serve:77 - Finished server process [1620855]
2021-09-28 14:33:51 | INFO | server serve:64 - Started server process [1620942]
2021-09-28 14:33:51 | INFO | on startup:26 - Waiting for application startup.
2021-09-28 14:33:51 | INFO | on startup:38 - Application startup complete.
2021-09-28 14:33:51 | INFO | server _log_started_message:204 - Uvicorn running on http://0.0.0.0:5000 (Press CTRL+C to quit)
2021-09-28 14:33:53 | INFO | h11_impl send:467 - 127.0.0.1:55218 - "GET /docs HTTP/1.1" 200
2021-09-28 14:33:53 | INFO | h11_impl send:467 - 127.0.0.1:55218 - "GET /openapi.json HTTP/1.1" 200
2021-09-28 14:34:20 | INFO | h11_impl send:467 - 127.0.0.1:55220 - "POST /token HTTP/1.1" 404
2021-09-28 14:34:33 | INFO | h11_impl send:467 - 127.0.0.1:55230 - "POST /token HTTP/1.1" 404
2021-09-28 14:34:52 | INFO | server shutdown:239 - Shutting down
2021-09-28 14:34:52 | INFO | on shutdown:43 - Waiting for application shutdown.
2021-09-28 14:34:52 | INFO | on shutdown:46 - Application shutdown complete.
2021-09-28 14:34:52 | INFO | server serve:77 - Finished server process [1620942]
2021-09-28 14:34:53 | INFO | server serve:64 - Started server process [1621068]
2021-09-28 14:34:53 | INFO | on startup:26 - Waiting for application startup.
2021-09-28 14:34:53 | INFO | on startup:38 - Application startup complete.
2021-09-28 14:34:53 | INFO | server _log_started_message:204 - Uvicorn running on http://0.0.0.0:5000 (Press CTRL+C to quit)
2021-09-28 14:34:58 | INFO | h11_impl send:467 - 127.0.0.1:55234 - "GET /docs HTTP/1.1" 200
2021-09-28 14:34:58 | INFO | h11_impl send:467 - 127.0.0.1:55234 - "GET /openapi.json HTTP/1.1" 200
2021-09-28 14:35:14 | INFO | h11_impl send:467 - 127.0.0.1:55236 - "POST /token HTTP/1.1" 404
2021-09-28 14:35:33 | INFO | h11_impl send:467 - 127.0.0.1:55248 - "POST /token HTTP/1.1" 404
2021-09-28 14:36:46 | INFO | server shutdown:239 - Shutting down
2021-09-28 14:36:46 | INFO | on shutdown:43 - Waiting for application shutdown.
2021-09-28 14:36:46 | INFO | on shutdown:46 - Application shutdown complete.
2021-09-28 14:36:46 | INFO | server serve:77 - Finished server process [1621068]
2021-09-28 14:36:46 | INFO | server serve:64 - Started server process [1621297]
2021-09-28 14:36:46 | INFO | on startup:26 - Waiting for application startup.
2021-09-28 14:36:46 | INFO | on startup:38 - Application startup complete.
2021-09-28 14:36:46 | INFO | server _log_started_message:204 - Uvicorn running on http://0.0.0.0:5000 (Press CTRL+C to quit)
2021-09-28 14:36:57 | INFO | h11_impl send:467 - 127.0.0.1:55250 - "POST /token HTTP/1.1" 404
2021-09-28 14:37:35 | INFO | h11_impl send:467 - 127.0.0.1:55252 - "POST /pypimanager/v1/token HTTP/1.1" 500
2021-09-28 14:37:35 | ERROR | h11_impl run_asgi:399 - Exception in ASGI application

Traceback (most recent call last):

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 92, in <module>
    m.run_server()
    │ └ <function Manager.run_server at 0x7f5e76e1c950>
    └ <__main__.Manager object at 0x7f5e76e26310>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 87, in run_server
    server.run()
    │      └ <function Server.run at 0x7f5e797ffa70>
    └ <uvicorn.server.Server object at 0x7f5e7a07ed10>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/server.py", line 49, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x7f5e797ffb00>
    │    │                  └ <uvicorn.server.Server object at 0x7f5e7a07ed10>
    │    └ <function BaseEventLoop.run_until_complete at 0x7f5e79b09680>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 574, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f5e79b095f0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 541, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f5e79b0c0e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 1786, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f5e79b5e7a0>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f5e75d03950>(<Future finis...7f5e75d038d0>>)>
  File "/usr/local/lib/python3.7/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x7f5e75d03950>(<Future finis...7f5e75d038d0>>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x7f5e75d03950>(<Future finis...7f5e75d038d0>>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f5e75d03950>(<Future finis...7f5e75d038d0>>)>
> File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f5e75cea830>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f5e75ce7f90>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f5e75cea8c0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f5e75ce7f90>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f5e75ce7f90>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5e75d4c8d0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f5e75ce7f90>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f5e75ce7f90>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f5e78bfd9d0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5e75d4c8d0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f5e75ce7f90>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f5e75ce7f90>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f5e75ce7f90>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f5e75ce7f90>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5e76eb8fd0>
          └ <fastapi.applications.FastAPI object at 0x7f5e78bfd9d0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f5e75cef9e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f5e75ce7f90>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f5e76eb8f50>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5e76eb8fd0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:5000', 'connection': 'keep-alive', 'content-length': '77', 'sec-ch-ua': '"Chromium";v="92", " Not...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f5e75cef9e0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f5e75ce7f90>>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x7f5e781e8b00>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f5e76eb8f50>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f5e76eb8f50>>, ...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f5e75ce7f90>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f5e76eb89d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f5e76eb8f50>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5e75cefc20>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f5e75ce7f90>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f5e78bf4710>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f5e76eb89d0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5e75cefc20>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f5e75ce7f90>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x7f5e7821d7a0>
          └ <fastapi.routing.APIRoute object at 0x7f5e781ee250>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5e75cefc20>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f5e75ce7f90>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f5e76e48170>
          └ <fastapi.routing.APIRoute object at 0x7f5e781ee250>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f5e75ce73d0>
                     └ <function get_request_handler.<locals>.app at 0x7f5e76e48290>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
              │                 │                    └ True
              │                 └ {'form_data': <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f5e75d038d0>}
              └ <fastapi.dependencies.models.Dependant object at 0x7f5e76ea9250>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'form_data': <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f5e75d038d0>}
                 │         └ <function login_for_access_token at 0x7f5e76f03a70>
                 └ <fastapi.dependencies.models.Dependant object at 0x7f5e76ea9250>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/routers/user.py", line 49, in login_for_access_token
    user = authenticate_user(form_data.username, form_data.password)
           │                 │         │         │         └ 'secret'
           │                 │         │         └ <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f5e75d038d0>
           │                 │         └ 'johndoe'
           │                 └ <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f5e75d038d0>
           └ <function authenticate_user at 0x7f5e76efee60>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/cruds/user.py", line 40, in authenticate_user
    user = get_user(username)
           │        └ 'johndoe'
           └ <function get_user at 0x7f5e76efe7a0>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/cruds/user.py", line 36, in get_user
    return UserSecret(**user_dict)
           │            └ {'username': 'johndoe', 'full_name': 'John Doe', 'email': 'johndoe@example.com', 'hashed_password': '$2b$12$EixZaYVK1fsbw1Zfb...
           └ <class 'api.schemas.user.UserSecret'>

  File "pydantic/main.py", line 406, in pydantic.main.BaseModel.__init__
    raise validation_error

pydantic.error_wrappers.ValidationError: 3 validation errors for UserSecret
disabled
  extra fields not permitted (type=value_error.extra)
email
  extra fields not permitted (type=value_error.extra)
full_name
  extra fields not permitted (type=value_error.extra)
2021-09-28 14:38:04 | INFO | server shutdown:239 - Shutting down
2021-09-28 14:38:04 | INFO | on shutdown:43 - Waiting for application shutdown.
2021-09-28 14:38:04 | INFO | on shutdown:46 - Application shutdown complete.
2021-09-28 14:38:04 | INFO | server serve:77 - Finished server process [1621297]
2021-09-28 14:38:04 | INFO | server serve:64 - Started server process [1621464]
2021-09-28 14:38:04 | INFO | on startup:26 - Waiting for application startup.
2021-09-28 14:38:04 | INFO | on startup:38 - Application startup complete.
2021-09-28 14:38:04 | INFO | server _log_started_message:204 - Uvicorn running on http://0.0.0.0:5000 (Press CTRL+C to quit)
2021-09-28 14:38:07 | INFO | h11_impl send:467 - 127.0.0.1:55254 - "POST /pypimanager/v1/token HTTP/1.1" 500
2021-09-28 14:38:07 | ERROR | h11_impl run_asgi:399 - Exception in ASGI application

Traceback (most recent call last):

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 92, in <module>
    m.run_server()
    │ └ <function Manager.run_server at 0x7f9c8a8b0950>
    └ <__main__.Manager object at 0x7f9c8a8ba0d0>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 87, in run_server
    server.run()
    │      └ <function Server.run at 0x7f9c8d292a70>
    └ <uvicorn.server.Server object at 0x7f9c8d33ef50>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/server.py", line 49, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x7f9c8d292b00>
    │    │                  └ <uvicorn.server.Server object at 0x7f9c8d33ef50>
    │    └ <function BaseEventLoop.run_until_complete at 0x7f9c8d59c680>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 574, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f9c8d59c5f0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 541, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f9c8d59f0e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 1786, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f9c8d5f17a0>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f9c8978f990>(<Future finis...7f9c89792110>>)>
  File "/usr/local/lib/python3.7/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x7f9c8978f990>(<Future finis...7f9c89792110>>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x7f9c8978f990>(<Future finis...7f9c89792110>>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f9c8978f990>(<Future finis...7f9c89792110>>)>
> File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f9c8977b830>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c89777f10>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f9c8977b8c0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c89777f10>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c89777f10>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f9c897e4710>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c89777f10>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c89777f10>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f9c8c683e90>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f9c897e4710>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c89777f10>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c89777f10>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c89777f10>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c89777f10>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f9c8a94be90>
          └ <fastapi.applications.FastAPI object at 0x7f9c8c683e90>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f9c897838c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c89777f10>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f9c8a94be10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f9c8a94be90>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:5000', 'connection': 'keep-alive', 'content-length': '77', 'sec-ch-ua': '"Chromium";v="92", " Not...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f9c897838c0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c89777f10>>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x7f9c8bc7bb00>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f9c8a94be10>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f9c8a94be10>>, ...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c89777f10>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f9c8a94b890>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f9c8a94be10>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f9c89783b00>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c89777f10>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f9c8c683f90>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f9c8a94b890>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f9c89783b00>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c89777f10>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x7f9c8bcb07a0>
          └ <fastapi.routing.APIRoute object at 0x7f9c8bc81110>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f9c89783b00>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c89777f10>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f9c8a8db170>
          └ <fastapi.routing.APIRoute object at 0x7f9c8bc81110>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f9c8978f2d0>
                     └ <function get_request_handler.<locals>.app at 0x7f9c8a8db290>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
              │                 │                    └ True
              │                 └ {'form_data': <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f9c89792110>}
              └ <fastapi.dependencies.models.Dependant object at 0x7f9c8a94bed0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'form_data': <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f9c89792110>}
                 │         └ <function login_for_access_token at 0x7f9c8a995a70>
                 └ <fastapi.dependencies.models.Dependant object at 0x7f9c8a94bed0>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/routers/user.py", line 49, in login_for_access_token
    user = authenticate_user(form_data.username, form_data.password)
           │                 │         │         │         └ 'secret'
           │                 │         │         └ <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f9c89792110>
           │                 │         └ 'johndoe'
           │                 └ <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f9c89792110>
           └ <function authenticate_user at 0x7f9c8a991e60>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/cruds/user.py", line 40, in authenticate_user
    user = get_user(username)
           │        └ 'johndoe'
           └ <function get_user at 0x7f9c8a9917a0>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/cruds/user.py", line 36, in get_user
    return UserSecret(**user_dict)
           │            └ {'username': 'johndoe', 'nickname': 'John Doe', 'email': 'johndoe@example.com', 'hashed_password': '$2b$12$EixZaYVK1fsbw1ZfbX...
           └ <class 'api.schemas.user.UserSecret'>

  File "pydantic/main.py", line 406, in pydantic.main.BaseModel.__init__
    raise validation_error

pydantic.error_wrappers.ValidationError: 3 validation errors for UserSecret
disabled
  extra fields not permitted (type=value_error.extra)
email
  extra fields not permitted (type=value_error.extra)
nickname
  extra fields not permitted (type=value_error.extra)
2021-09-28 14:38:36 | INFO | server shutdown:239 - Shutting down
2021-09-28 14:38:36 | INFO | on shutdown:43 - Waiting for application shutdown.
2021-09-28 14:38:36 | INFO | on shutdown:46 - Application shutdown complete.
2021-09-28 14:38:36 | INFO | server serve:77 - Finished server process [1621464]
2021-09-28 14:38:36 | INFO | server serve:64 - Started server process [1621543]
2021-09-28 14:38:36 | INFO | on startup:26 - Waiting for application startup.
2021-09-28 14:38:36 | INFO | on startup:38 - Application startup complete.
2021-09-28 14:38:36 | INFO | server _log_started_message:204 - Uvicorn running on http://0.0.0.0:5000 (Press CTRL+C to quit)
2021-09-28 14:38:39 | INFO | h11_impl send:467 - 127.0.0.1:55264 - "POST /pypimanager/v1/token HTTP/1.1" 200
2021-09-28 14:39:02 | INFO | h11_impl send:467 - 127.0.0.1:55272 - "GET /pypimanager/v1/users/me/ HTTP/1.1" 401
2021-09-28 14:39:05 | INFO | h11_impl send:467 - 127.0.0.1:55272 - "GET /pypimanager/v1/users/me/ HTTP/1.1" 401
2021-09-28 14:39:14 | INFO | h11_impl send:467 - 127.0.0.1:55274 - "GET /pypimanager/v1/users/me/items/ HTTP/1.1" 401
2021-09-28 14:51:35 | INFO | server shutdown:239 - Shutting down
2021-09-28 14:51:35 | INFO | on shutdown:43 - Waiting for application shutdown.
2021-09-28 14:51:35 | INFO | on shutdown:46 - Application shutdown complete.
2021-09-28 14:51:35 | INFO | server serve:77 - Finished server process [1621543]
2021-09-28 14:56:28 | INFO | server serve:64 - Started server process [1623672]
2021-09-28 14:56:28 | INFO | on startup:26 - Waiting for application startup.
2021-09-28 14:56:28 | INFO | on startup:38 - Application startup complete.
2021-09-28 14:56:28 | INFO | server _log_started_message:204 - Uvicorn running on http://0.0.0.0:5000 (Press CTRL+C to quit)
2021-09-28 14:56:39 | INFO | h11_impl send:467 - 127.0.0.1:55380 - "GET /docs HTTP/1.1" 200
2021-09-28 14:56:39 | INFO | h11_impl send:467 - 127.0.0.1:55380 - "GET /openapi.json HTTP/1.1" 200
2021-09-28 14:56:47 | INFO | h11_impl send:467 - 127.0.0.1:55382 - "POST /token HTTP/1.1" 200
2021-09-28 14:57:00 | INFO | h11_impl send:467 - 127.0.0.1:55394 - "GET /users/me/ HTTP/1.1" 500
2021-09-28 14:57:00 | ERROR | h11_impl run_asgi:399 - Exception in ASGI application

Traceback (most recent call last):

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 108, in <module>
    m.run_server()
    │ └ <function Manager.run_server at 0x7fe145338d40>
    └ <__main__.Manager object at 0x7fe145339850>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 103, in run_server
    server.run()
    │      └ <function Server.run at 0x7fe147d1c4d0>
    └ <uvicorn.server.Server object at 0x7fe14536c110>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/server.py", line 49, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x7fe147d1c560>
    │    │                  └ <uvicorn.server.Server object at 0x7fe14536c110>
    │    └ <function BaseEventLoop.run_until_complete at 0x7fe147fa09e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 574, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fe147fa0950>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 541, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fe147fa2440>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 1786, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fe147ff8b00>
    └ <Handle <TaskStepMethWrapper object at 0x7fe144202450>()>
  File "/usr/local/lib/python3.7/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x7fe144202450>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x7fe144202450>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x7fe144202450>()>
> File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7fe144203c20>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fe144223210>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7fe144203cb0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fe144223210>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fe144223210>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fe144266dd0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fe144223210>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fe144223210>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7fe14711ab10>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fe144266dd0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fe144223210>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fe144223210>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fe144223210>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fe144223210>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fe1453dc1d0>
          └ <fastapi.applications.FastAPI object at 0x7fe14711ab10>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fe14421d0e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fe144223210>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fe1453dc150>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fe1453dc1d0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fe14421d0e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fe144223210>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fe1453c6090>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fe1453dc150>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fe14421d290>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fe144223210>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7fe147e6b150>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fe1453c6090>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fe14421d290>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fe144223210>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x7fe146739830>
          └ <fastapi.routing.APIRoute object at 0x7fe1453dcf50>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fe14421d290>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fe144223210>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x7fe1453de4d0>
          └ <fastapi.routing.APIRoute object at 0x7fe1453dcf50>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7fe1442236d0>
                     └ <function get_request_handler.<locals>.app at 0x7fe1453de440>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 195, in app
    dependency_overrides_provider=dependency_overrides_provider,
                                  └ <fastapi.applications.FastAPI object at 0x7fe14711ab10>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/dependencies/utils.py", line 548, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'current_user': UserSecret(username='johndoe', hashed_password='$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW')}
                   └ <function get_current_active_user at 0x7fe14541bd40>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/routers/user.py", line 42, in get_current_active_user
    if current_user.disabled:
       └ UserSecret(username='johndoe', hashed_password='$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW')

AttributeError: 'UserSecret' object has no attribute 'disabled'
2021-09-28 14:57:57 | INFO | server shutdown:239 - Shutting down
2021-09-28 14:57:57 | INFO | on shutdown:43 - Waiting for application shutdown.
2021-09-28 14:57:57 | INFO | on shutdown:46 - Application shutdown complete.
2021-09-28 14:57:57 | INFO | server serve:77 - Finished server process [1623672]
2021-09-28 14:57:58 | INFO | server serve:64 - Started server process [1623865]
2021-09-28 14:57:58 | INFO | on startup:26 - Waiting for application startup.
2021-09-28 14:57:58 | INFO | on startup:38 - Application startup complete.
2021-09-28 14:57:58 | INFO | server _log_started_message:204 - Uvicorn running on http://0.0.0.0:5000 (Press CTRL+C to quit)
2021-09-28 14:58:01 | INFO | h11_impl send:467 - 127.0.0.1:55396 - "GET /users/me/ HTTP/1.1" 200
2021-09-28 14:58:11 | INFO | h11_impl send:467 - 127.0.0.1:55402 - "GET /users/me/items/ HTTP/1.1" 200
2021-09-28 14:59:07 | INFO | server shutdown:239 - Shutting down
2021-09-28 14:59:07 | INFO | on shutdown:43 - Waiting for application shutdown.
2021-09-28 14:59:07 | INFO | on shutdown:46 - Application shutdown complete.
2021-09-28 14:59:07 | INFO | server serve:77 - Finished server process [1623865]
2021-09-28 14:59:08 | INFO | server serve:64 - Started server process [1624019]
2021-09-28 14:59:08 | INFO | on startup:26 - Waiting for application startup.
2021-09-28 14:59:08 | INFO | on startup:38 - Application startup complete.
2021-09-28 14:59:08 | INFO | server _log_started_message:204 - Uvicorn running on http://0.0.0.0:5000 (Press CTRL+C to quit)
2021-09-28 14:59:10 | INFO | h11_impl send:467 - 127.0.0.1:55412 - "GET /docs HTTP/1.1" 200
2021-09-28 14:59:10 | INFO | h11_impl send:467 - 127.0.0.1:55412 - "GET /openapi.json HTTP/1.1" 200
2021-09-28 14:59:23 | INFO | h11_impl send:467 - 127.0.0.1:55414 - "POST /token HTTP/1.1" 200
2021-09-28 14:59:30 | INFO | h11_impl send:467 - 127.0.0.1:55426 - "GET /users/me/ HTTP/1.1" 200
2021-09-28 14:59:42 | INFO | h11_impl send:467 - 127.0.0.1:55428 - "GET /users/me/items/ HTTP/1.1" 200
2021-09-28 15:00:41 | INFO | server shutdown:239 - Shutting down
2021-09-28 15:00:41 | INFO | on shutdown:43 - Waiting for application shutdown.
2021-09-28 15:00:41 | INFO | on shutdown:46 - Application shutdown complete.
2021-09-28 15:00:41 | INFO | server serve:77 - Finished server process [1624019]
2021-09-28 15:03:02 | INFO | manager __load_role_map__:68 - 共计3个角色配置
2021-09-28 15:03:02 | INFO | server serve:64 - Started server process [1624516]
2021-09-28 15:03:02 | INFO | on startup:26 - Waiting for application startup.
2021-09-28 15:03:02 | INFO | on startup:38 - Application startup complete.
2021-09-28 15:03:02 | INFO | server _log_started_message:204 - Uvicorn running on http://0.0.0.0:5000 (Press CTRL+C to quit)
2021-09-28 15:03:26 | INFO | server shutdown:239 - Shutting down
2021-09-28 15:03:26 | INFO | on shutdown:43 - Waiting for application shutdown.
2021-09-28 15:03:26 | INFO | on shutdown:46 - Application shutdown complete.
2021-09-28 15:03:26 | INFO | server serve:77 - Finished server process [1624516]
2021-09-28 15:03:31 | INFO | manager __load_role_map__:68 - 共计3个角色配置
2021-09-28 15:03:31 | INFO | server serve:64 - Started server process [1624583]
2021-09-28 15:03:31 | INFO | on startup:26 - Waiting for application startup.
2021-09-28 15:03:31 | INFO | on startup:38 - Application startup complete.
2021-09-28 15:03:31 | INFO | server _log_started_message:204 - Uvicorn running on http://0.0.0.0:5000 (Press CTRL+C to quit)
2021-09-28 15:05:59 | INFO | server shutdown:239 - Shutting down
2021-09-28 15:05:59 | INFO | on shutdown:43 - Waiting for application shutdown.
2021-09-28 15:05:59 | INFO | on shutdown:46 - Application shutdown complete.
2021-09-28 15:05:59 | INFO | server serve:77 - Finished server process [1624583]
2021-09-28 15:06:00 | INFO | manager __load_role_map__:69 - 共计3个角色配置
2021-09-28 15:06:00 | ERROR | manager __load_fixtures_auth_users__:87 - An error has been caught in function '__load_fixtures_auth_users__', process 'MainProcess' (1624887), thread 'MainThread' (140586416574848):
Traceback (most recent call last):

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 110, in <module>
    m.run_server()
    │ └ <function Manager.run_server at 0x7fdccf321e60>
    └ <__main__.Manager object at 0x7fdccf320a50>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 96, in run_server
    m.__load_fixtures_auth_users__()
    │ └ <function Manager.__load_fixtures_auth_users__ at 0x7fdccf321b00>
    └ <__main__.Manager object at 0x7fdccf320a50>

> File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 87, in __load_fixtures_auth_users__
    self.db.insert_or_update(User, **user)
    │    │  │                │       └ {'username': 'X2590', 'nickname': '郭群', 'email': 'qguo@njsecnet.com', 'role': '超级管理员', 'password': '$2b$12$CfQ3uUc8hI1Xfei5Pj...
    │    │  │                └ <class 'model.models.User'>
    │    │  └ <function DB.insert_or_update at 0x7fdcd10f5050>
    │    └ <utils.db.DB object at 0x7fdccf320bd0>
    └ <__main__.Manager object at 0x7fdccf320a50>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/utils/db.py", line 55, in insert_or_update
    self.session.execute(update_stmt)
    │    │       │       └ <sqlalchemy.dialects.mysql.dml.Insert object at 0x7fdcce2bf710>
    │    │       └ <function Session.execute at 0x7fdcd12388c0>
    │    └ <sqlalchemy.orm.session.Session object at 0x7fdccf2ce090>
    └ <utils.db.DB object at 0x7fdccf320bd0>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1677, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
             │    │           │          │             └ immutabledict({'future_result': True})
             │    │           │          └ None
             │    │           └ <sqlalchemy.dialects.mysql.dml.Insert object at 0x7fdcce2bf710>
             │    └ <function Connection._execute_20 at 0x7fdcd158c200>
             └ <sqlalchemy.future.engine.Connection object at 0x7fdcce2bf490>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 1582, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           │    │     │             │               └ immutabledict({'future_result': True})
           │    │     │             └ immutabledict({})
           │    │     └ ({},)
           │    └ <sqlalchemy.future.engine.Connection object at 0x7fdcce2bf490>
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.dialects.mysql.dml.Insert object at 0x7fdcce2bf710>>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    self, multiparams, params, execution_options
    │     │            │       └ immutabledict({'future_result': True})
    │     │            └ immutabledict({})
    │     └ ({},)
    └ <sqlalchemy.dialects.mysql.dml.Insert object at 0x7fdcce2bf710>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 1449, in _execute_clauseelement
    linting=self.dialect.compiler_linting | compiler.WARN_LINTING,
            │    │       │                  │        └ symbol('WARN_LINTING')
            │    │       │                  └ <module 'sqlalchemy.sql.compiler' from '/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypima...
            │    │       └ 1
            │    └ <sqlalchemy.dialects.mysql.pymysql.MySQLDialect_pymysql object at 0x7fdccf2d83d0>
            └ <sqlalchemy.future.engine.Connection object at 0x7fdcce2bf490>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/sqlalchemy/sql/elements.py", line 565, in _compile_w_cache
    **kw
      └ {'linting': 3}
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/sqlalchemy/sql/elements.py", line 581, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
           │       │                  │        │       └ {'cache_key': None, 'column_keys': [], 'for_executemany': False, 'schema_translate_map': None, 'linting': 3}
           │       │                  │        └ <sqlalchemy.dialects.mysql.dml.Insert object at 0x7fdcce2bf710>
           │       │                  └ <sqlalchemy.dialects.mysql.pymysql.MySQLDialect_pymysql object at 0x7fdccf2d83d0>
           │       └ <class 'sqlalchemy.dialects.mysql.mysqldb.MySQLCompiler_mysqldb'>
           └ <sqlalchemy.dialects.mysql.pymysql.MySQLDialect_pymysql object at 0x7fdccf2d83d0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/sqlalchemy/sql/compiler.py", line 766, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
    │        │        │     │        │            └ {'schema_translate_map': None}
    │        │        │     │        └ <sqlalchemy.dialects.mysql.dml.Insert object at 0x7fdcce2bf710>
    │        │        │     └ <sqlalchemy.dialects.mysql.pymysql.MySQLDialect_pymysql object at 0x7fdccf2d83d0>
    │        │        └ <sqlalchemy.dialects.mysql.mysqldb.MySQLCompiler_mysqldb object at 0x7fdcce2bf350>
    │        └ <function Compiled.__init__ at 0x7fdcd15f93b0>
    └ <class 'sqlalchemy.sql.compiler.Compiled'>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/sqlalchemy/sql/compiler.py", line 455, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
    │             │    │       │    │            └ immutabledict({})
    │             │    │       │    └ <sqlalchemy.dialects.mysql.dml.Insert object at 0x7fdcce2bf710>
    │             │    │       └ <sqlalchemy.dialects.mysql.mysqldb.MySQLCompiler_mysqldb object at 0x7fdcce2bf350>
    │             │    └ <function Compiled.process at 0x7fdcd15f97a0>
    │             └ <sqlalchemy.dialects.mysql.mysqldb.MySQLCompiler_mysqldb object at 0x7fdcce2bf350>
    └ <sqlalchemy.dialects.mysql.mysqldb.MySQLCompiler_mysqldb object at 0x7fdcce2bf350>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/sqlalchemy/sql/compiler.py", line 490, in process
    return obj._compiler_dispatch(self, **kwargs)
           │   │                  │       └ {}
           │   │                  └ <sqlalchemy.dialects.mysql.mysqldb.MySQLCompiler_mysqldb object at 0x7fdcce2bf350>
           │   └ <function _generate_compiler_dispatch.<locals>._compiler_dispatch at 0x7fdcd15e88c0>
           └ <sqlalchemy.dialects.mysql.dml.Insert object at 0x7fdcce2bf710>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py", line 81, in _compiler_dispatch
    return meth(self, **kw)
           │    │       └ {}
           │    └ <sqlalchemy.dialects.mysql.dml.Insert object at 0x7fdcce2bf710>
           └ <bound method SQLCompiler.visit_insert of <sqlalchemy.dialects.mysql.mysqldb.MySQLCompiler_mysqldb object at 0x7fdcce2bf350>>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/sqlalchemy/sql/compiler.py", line 3510, in visit_insert
    self, insert_stmt, compile_state, **kw
    │     │            │                └ {}
    │     │            └ <sqlalchemy.sql.dml.InsertDMLState object at 0x7fdcce2044b0>
    │     └ <sqlalchemy.dialects.mysql.dml.Insert object at 0x7fdcce2bf710>
    └ <sqlalchemy.dialects.mysql.mysqldb.MySQLCompiler_mysqldb object at 0x7fdcce2bf350>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/sqlalchemy/sql/crud.py", line 170, in _get_crud_params
    % (", ".join("%s" % (c,) for c in check))
                                      └ {'password'}

sqlalchemy.exc.CompileError: Unconsumed column names: password
2021-09-28 15:06:00 | ERROR | manager run_server:96 - An error has been caught in function 'run_server', process 'MainProcess' (1624887), thread 'MainThread' (140586416574848):
Traceback (most recent call last):

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 110, in <module>
    m.run_server()
    │ └ <function Manager.run_server at 0x7fdccf321e60>
    └ <__main__.Manager object at 0x7fdccf320a50>

> File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 96, in run_server
    m.__load_fixtures_auth_users__()
    │ └ <function Manager.__load_fixtures_auth_users__ at 0x7fdccf321b00>
    └ <__main__.Manager object at 0x7fdccf320a50>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 87, in __load_fixtures_auth_users__
    self.db.insert_or_update(User, **user)
    │    │  │                │       └ {'username': 'X2590', 'nickname': '郭群', 'email': 'qguo@njsecnet.com', 'role': '超级管理员', 'password': '$2b$12$CfQ3uUc8hI1Xfei5Pj...
    │    │  │                └ <class 'model.models.User'>
    │    │  └ <function DB.insert_or_update at 0x7fdcd10f5050>
    │    └ <utils.db.DB object at 0x7fdccf320bd0>
    └ <__main__.Manager object at 0x7fdccf320a50>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/utils/db.py", line 55, in insert_or_update
    self.session.execute(update_stmt)
    │    │       │       └ <sqlalchemy.dialects.mysql.dml.Insert object at 0x7fdcce2bf710>
    │    │       └ <function Session.execute at 0x7fdcd12388c0>
    │    └ <sqlalchemy.orm.session.Session object at 0x7fdccf2ce090>
    └ <utils.db.DB object at 0x7fdccf320bd0>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1677, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
             │    │           │          │             └ immutabledict({'future_result': True})
             │    │           │          └ None
             │    │           └ <sqlalchemy.dialects.mysql.dml.Insert object at 0x7fdcce2bf710>
             │    └ <function Connection._execute_20 at 0x7fdcd158c200>
             └ <sqlalchemy.future.engine.Connection object at 0x7fdcce2bf490>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 1582, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           │    │     │             │               └ immutabledict({'future_result': True})
           │    │     │             └ immutabledict({})
           │    │     └ ({},)
           │    └ <sqlalchemy.future.engine.Connection object at 0x7fdcce2bf490>
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.dialects.mysql.dml.Insert object at 0x7fdcce2bf710>>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    self, multiparams, params, execution_options
    │     │            │       └ immutabledict({'future_result': True})
    │     │            └ immutabledict({})
    │     └ ({},)
    └ <sqlalchemy.dialects.mysql.dml.Insert object at 0x7fdcce2bf710>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 1449, in _execute_clauseelement
    linting=self.dialect.compiler_linting | compiler.WARN_LINTING,
            │    │       │                  │        └ symbol('WARN_LINTING')
            │    │       │                  └ <module 'sqlalchemy.sql.compiler' from '/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypima...
            │    │       └ 1
            │    └ <sqlalchemy.dialects.mysql.pymysql.MySQLDialect_pymysql object at 0x7fdccf2d83d0>
            └ <sqlalchemy.future.engine.Connection object at 0x7fdcce2bf490>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/sqlalchemy/sql/elements.py", line 565, in _compile_w_cache
    **kw
      └ {'linting': 3}
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/sqlalchemy/sql/elements.py", line 581, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
           │       │                  │        │       └ {'cache_key': None, 'column_keys': [], 'for_executemany': False, 'schema_translate_map': None, 'linting': 3}
           │       │                  │        └ <sqlalchemy.dialects.mysql.dml.Insert object at 0x7fdcce2bf710>
           │       │                  └ <sqlalchemy.dialects.mysql.pymysql.MySQLDialect_pymysql object at 0x7fdccf2d83d0>
           │       └ <class 'sqlalchemy.dialects.mysql.mysqldb.MySQLCompiler_mysqldb'>
           └ <sqlalchemy.dialects.mysql.pymysql.MySQLDialect_pymysql object at 0x7fdccf2d83d0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/sqlalchemy/sql/compiler.py", line 766, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
    │        │        │     │        │            └ {'schema_translate_map': None}
    │        │        │     │        └ <sqlalchemy.dialects.mysql.dml.Insert object at 0x7fdcce2bf710>
    │        │        │     └ <sqlalchemy.dialects.mysql.pymysql.MySQLDialect_pymysql object at 0x7fdccf2d83d0>
    │        │        └ <sqlalchemy.dialects.mysql.mysqldb.MySQLCompiler_mysqldb object at 0x7fdcce2bf350>
    │        └ <function Compiled.__init__ at 0x7fdcd15f93b0>
    └ <class 'sqlalchemy.sql.compiler.Compiled'>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/sqlalchemy/sql/compiler.py", line 455, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
    │             │    │       │    │            └ immutabledict({})
    │             │    │       │    └ <sqlalchemy.dialects.mysql.dml.Insert object at 0x7fdcce2bf710>
    │             │    │       └ <sqlalchemy.dialects.mysql.mysqldb.MySQLCompiler_mysqldb object at 0x7fdcce2bf350>
    │             │    └ <function Compiled.process at 0x7fdcd15f97a0>
    │             └ <sqlalchemy.dialects.mysql.mysqldb.MySQLCompiler_mysqldb object at 0x7fdcce2bf350>
    └ <sqlalchemy.dialects.mysql.mysqldb.MySQLCompiler_mysqldb object at 0x7fdcce2bf350>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/sqlalchemy/sql/compiler.py", line 490, in process
    return obj._compiler_dispatch(self, **kwargs)
           │   │                  │       └ {}
           │   │                  └ <sqlalchemy.dialects.mysql.mysqldb.MySQLCompiler_mysqldb object at 0x7fdcce2bf350>
           │   └ <function _generate_compiler_dispatch.<locals>._compiler_dispatch at 0x7fdcd15e88c0>
           └ <sqlalchemy.dialects.mysql.dml.Insert object at 0x7fdcce2bf710>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py", line 81, in _compiler_dispatch
    return meth(self, **kw)
           │    │       └ {}
           │    └ <sqlalchemy.dialects.mysql.dml.Insert object at 0x7fdcce2bf710>
           └ <bound method SQLCompiler.visit_insert of <sqlalchemy.dialects.mysql.mysqldb.MySQLCompiler_mysqldb object at 0x7fdcce2bf350>>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/sqlalchemy/sql/compiler.py", line 3510, in visit_insert
    self, insert_stmt, compile_state, **kw
    │     │            │                └ {}
    │     │            └ <sqlalchemy.sql.dml.InsertDMLState object at 0x7fdcce2044b0>
    │     └ <sqlalchemy.dialects.mysql.dml.Insert object at 0x7fdcce2bf710>
    └ <sqlalchemy.dialects.mysql.mysqldb.MySQLCompiler_mysqldb object at 0x7fdcce2bf350>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/sqlalchemy/sql/crud.py", line 170, in _get_crud_params
    % (", ".join("%s" % (c,) for c in check))
                                      └ {'password'}

sqlalchemy.exc.CompileError: Unconsumed column names: password
2021-09-28 15:06:00 | ERROR | manager <module>:110 - An error has been caught in function '<module>', process 'MainProcess' (1624887), thread 'MainThread' (140586416574848):
Traceback (most recent call last):

> File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 110, in <module>
    m.run_server()
    │ └ <function Manager.run_server at 0x7fdccf321e60>
    └ <__main__.Manager object at 0x7fdccf320a50>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 96, in run_server
    m.__load_fixtures_auth_users__()
    │ └ <function Manager.__load_fixtures_auth_users__ at 0x7fdccf321b00>
    └ <__main__.Manager object at 0x7fdccf320a50>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 87, in __load_fixtures_auth_users__
    self.db.insert_or_update(User, **user)
    │    │  │                │       └ {'username': 'X2590', 'nickname': '郭群', 'email': 'qguo@njsecnet.com', 'role': '超级管理员', 'password': '$2b$12$CfQ3uUc8hI1Xfei5Pj...
    │    │  │                └ <class 'model.models.User'>
    │    │  └ <function DB.insert_or_update at 0x7fdcd10f5050>
    │    └ <utils.db.DB object at 0x7fdccf320bd0>
    └ <__main__.Manager object at 0x7fdccf320a50>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/utils/db.py", line 55, in insert_or_update
    self.session.execute(update_stmt)
    │    │       │       └ <sqlalchemy.dialects.mysql.dml.Insert object at 0x7fdcce2bf710>
    │    │       └ <function Session.execute at 0x7fdcd12388c0>
    │    └ <sqlalchemy.orm.session.Session object at 0x7fdccf2ce090>
    └ <utils.db.DB object at 0x7fdccf320bd0>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1677, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
             │    │           │          │             └ immutabledict({'future_result': True})
             │    │           │          └ None
             │    │           └ <sqlalchemy.dialects.mysql.dml.Insert object at 0x7fdcce2bf710>
             │    └ <function Connection._execute_20 at 0x7fdcd158c200>
             └ <sqlalchemy.future.engine.Connection object at 0x7fdcce2bf490>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 1582, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           │    │     │             │               └ immutabledict({'future_result': True})
           │    │     │             └ immutabledict({})
           │    │     └ ({},)
           │    └ <sqlalchemy.future.engine.Connection object at 0x7fdcce2bf490>
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.dialects.mysql.dml.Insert object at 0x7fdcce2bf710>>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    self, multiparams, params, execution_options
    │     │            │       └ immutabledict({'future_result': True})
    │     │            └ immutabledict({})
    │     └ ({},)
    └ <sqlalchemy.dialects.mysql.dml.Insert object at 0x7fdcce2bf710>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 1449, in _execute_clauseelement
    linting=self.dialect.compiler_linting | compiler.WARN_LINTING,
            │    │       │                  │        └ symbol('WARN_LINTING')
            │    │       │                  └ <module 'sqlalchemy.sql.compiler' from '/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypima...
            │    │       └ 1
            │    └ <sqlalchemy.dialects.mysql.pymysql.MySQLDialect_pymysql object at 0x7fdccf2d83d0>
            └ <sqlalchemy.future.engine.Connection object at 0x7fdcce2bf490>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/sqlalchemy/sql/elements.py", line 565, in _compile_w_cache
    **kw
      └ {'linting': 3}
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/sqlalchemy/sql/elements.py", line 581, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
           │       │                  │        │       └ {'cache_key': None, 'column_keys': [], 'for_executemany': False, 'schema_translate_map': None, 'linting': 3}
           │       │                  │        └ <sqlalchemy.dialects.mysql.dml.Insert object at 0x7fdcce2bf710>
           │       │                  └ <sqlalchemy.dialects.mysql.pymysql.MySQLDialect_pymysql object at 0x7fdccf2d83d0>
           │       └ <class 'sqlalchemy.dialects.mysql.mysqldb.MySQLCompiler_mysqldb'>
           └ <sqlalchemy.dialects.mysql.pymysql.MySQLDialect_pymysql object at 0x7fdccf2d83d0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/sqlalchemy/sql/compiler.py", line 766, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
    │        │        │     │        │            └ {'schema_translate_map': None}
    │        │        │     │        └ <sqlalchemy.dialects.mysql.dml.Insert object at 0x7fdcce2bf710>
    │        │        │     └ <sqlalchemy.dialects.mysql.pymysql.MySQLDialect_pymysql object at 0x7fdccf2d83d0>
    │        │        └ <sqlalchemy.dialects.mysql.mysqldb.MySQLCompiler_mysqldb object at 0x7fdcce2bf350>
    │        └ <function Compiled.__init__ at 0x7fdcd15f93b0>
    └ <class 'sqlalchemy.sql.compiler.Compiled'>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/sqlalchemy/sql/compiler.py", line 455, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
    │             │    │       │    │            └ immutabledict({})
    │             │    │       │    └ <sqlalchemy.dialects.mysql.dml.Insert object at 0x7fdcce2bf710>
    │             │    │       └ <sqlalchemy.dialects.mysql.mysqldb.MySQLCompiler_mysqldb object at 0x7fdcce2bf350>
    │             │    └ <function Compiled.process at 0x7fdcd15f97a0>
    │             └ <sqlalchemy.dialects.mysql.mysqldb.MySQLCompiler_mysqldb object at 0x7fdcce2bf350>
    └ <sqlalchemy.dialects.mysql.mysqldb.MySQLCompiler_mysqldb object at 0x7fdcce2bf350>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/sqlalchemy/sql/compiler.py", line 490, in process
    return obj._compiler_dispatch(self, **kwargs)
           │   │                  │       └ {}
           │   │                  └ <sqlalchemy.dialects.mysql.mysqldb.MySQLCompiler_mysqldb object at 0x7fdcce2bf350>
           │   └ <function _generate_compiler_dispatch.<locals>._compiler_dispatch at 0x7fdcd15e88c0>
           └ <sqlalchemy.dialects.mysql.dml.Insert object at 0x7fdcce2bf710>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py", line 81, in _compiler_dispatch
    return meth(self, **kw)
           │    │       └ {}
           │    └ <sqlalchemy.dialects.mysql.dml.Insert object at 0x7fdcce2bf710>
           └ <bound method SQLCompiler.visit_insert of <sqlalchemy.dialects.mysql.mysqldb.MySQLCompiler_mysqldb object at 0x7fdcce2bf350>>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/sqlalchemy/sql/compiler.py", line 3510, in visit_insert
    self, insert_stmt, compile_state, **kw
    │     │            │                └ {}
    │     │            └ <sqlalchemy.sql.dml.InsertDMLState object at 0x7fdcce2044b0>
    │     └ <sqlalchemy.dialects.mysql.dml.Insert object at 0x7fdcce2bf710>
    └ <sqlalchemy.dialects.mysql.mysqldb.MySQLCompiler_mysqldb object at 0x7fdcce2bf350>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/sqlalchemy/sql/crud.py", line 170, in _get_crud_params
    % (", ".join("%s" % (c,) for c in check))
                                      └ {'password'}

sqlalchemy.exc.CompileError: Unconsumed column names: password
2021-09-28 15:06:12 | INFO | manager __load_role_map__:69 - 共计3个角色配置
2021-09-28 15:06:13 | INFO | server serve:64 - Started server process [1624924]
2021-09-28 15:06:13 | INFO | on startup:26 - Waiting for application startup.
2021-09-28 15:06:13 | INFO | on startup:38 - Application startup complete.
2021-09-28 15:06:13 | INFO | server _log_started_message:204 - Uvicorn running on http://0.0.0.0:5000 (Press CTRL+C to quit)
2021-09-28 15:12:46 | INFO | server shutdown:239 - Shutting down
2021-09-28 15:12:46 | INFO | on shutdown:43 - Waiting for application shutdown.
2021-09-28 15:12:46 | INFO | on shutdown:46 - Application shutdown complete.
2021-09-28 15:12:46 | INFO | server serve:77 - Finished server process [1624924]
2021-09-28 15:12:47 | INFO | manager __load_role_map__:69 - 共计3个角色配置
2021-09-28 15:12:48 | INFO | server serve:64 - Started server process [1626657]
2021-09-28 15:12:48 | INFO | on startup:26 - Waiting for application startup.
2021-09-28 15:12:48 | INFO | on startup:38 - Application startup complete.
2021-09-28 15:12:48 | INFO | server _log_started_message:204 - Uvicorn running on http://0.0.0.0:5000 (Press CTRL+C to quit)
2021-09-28 15:12:52 | INFO | h11_impl send:467 - 127.0.0.1:55574 - "GET /docs HTTP/1.1" 200
2021-09-28 15:12:52 | INFO | h11_impl send:467 - 127.0.0.1:55574 - "GET /openapi.json HTTP/1.1" 200
2021-09-28 15:13:00 | INFO | h11_impl send:467 - 127.0.0.1:55576 - "POST /token HTTP/1.1" 200
2021-09-28 15:13:07 | INFO | h11_impl send:467 - 127.0.0.1:55588 - "GET /users/me/items/ HTTP/1.1" 200
2021-09-28 15:13:12 | INFO | h11_impl send:467 - 127.0.0.1:55590 - "GET /users/me/ HTTP/1.1" 500
2021-09-28 15:13:12 | ERROR | h11_impl run_asgi:399 - Exception in ASGI application

Traceback (most recent call last):

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 110, in <module>
    m.run_server()
    │ └ <function Manager.run_server at 0x7fb35f629e60>
    └ <__main__.Manager object at 0x7fb35f61fe10>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 105, in run_server
    server.run()
    │      └ <function Server.run at 0x7fb362006560>
    └ <uvicorn.server.Server object at 0x7fb3620b2dd0>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/server.py", line 49, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x7fb3620065f0>
    │    │                  └ <uvicorn.server.Server object at 0x7fb3620b2dd0>
    │    └ <function BaseEventLoop.run_until_complete at 0x7fb36228aa70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 574, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fb36228a9e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 541, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fb36228c4d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 1786, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fb3622e1b90>
    └ <Handle <TaskStepMethWrapper object at 0x7fb35e4786d0>()>
  File "/usr/local/lib/python3.7/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x7fb35e4786d0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x7fb35e4786d0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x7fb35e4786d0>()>
> File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7fb35e4bd050>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fb35e478690>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7fb35e4bd0e0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fb35e478690>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fb35e478690>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb35e561a90>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fb35e478690>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fb35e478690>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7fb361404a10>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb35e561a90>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fb35e478690>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fb35e478690>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fb35e478690>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fb35e478690>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb35f6cb610>
          └ <fastapi.applications.FastAPI object at 0x7fb361404a10>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fb35e4c23b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fb35e478690>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fb35f6cb590>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb35f6cb610>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fb35e4c23b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fb35e478690>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fb35f6cb550>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fb35f6cb590>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fb35e4c2560>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fb35e478690>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7fb3613fc750>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fb35f6cb550>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fb35e4c2560>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fb35e478690>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x7fb360a248c0>
          └ <fastapi.routing.APIRoute object at 0x7fb35f65c390>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fb35e4c2560>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fb35e478690>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x7fb35f64d5f0>
          └ <fastapi.routing.APIRoute object at 0x7fb35f65c390>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7fb35e4784d0>
                     └ <function get_request_handler.<locals>.app at 0x7fb35f64d560>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 218, in app
    is_coroutine=is_coroutine,
                 └ True
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 126, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_read_users_me_users_me__get', type=Optional[UserManage], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='UserManage', errors=[{'loc': ('nickname',), 'msg': 'field required', 'type': 'value_...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 3 validation errors for UserManage
response -> nickname
  field required (type=value_error.missing)
response -> email
  field required (type=value_error.missing)
response -> hashed_password
  extra fields not permitted (type=value_error.extra)
2021-09-28 15:14:25 | INFO | server shutdown:239 - Shutting down
2021-09-28 15:14:25 | INFO | on shutdown:43 - Waiting for application shutdown.
2021-09-28 15:14:25 | INFO | on shutdown:46 - Application shutdown complete.
2021-09-28 15:14:25 | INFO | server serve:77 - Finished server process [1626657]
2021-09-28 15:14:25 | INFO | manager __load_role_map__:69 - 共计3个角色配置
2021-09-28 15:14:26 | INFO | server serve:64 - Started server process [1626851]
2021-09-28 15:14:26 | INFO | on startup:26 - Waiting for application startup.
2021-09-28 15:14:26 | INFO | on startup:38 - Application startup complete.
2021-09-28 15:14:26 | INFO | server _log_started_message:204 - Uvicorn running on http://0.0.0.0:5000 (Press CTRL+C to quit)
2021-09-28 15:14:29 | INFO | h11_impl send:467 - 127.0.0.1:55608 - "GET /docs HTTP/1.1" 200
2021-09-28 15:14:29 | INFO | h11_impl send:467 - 127.0.0.1:55608 - "GET /openapi.json HTTP/1.1" 200
2021-09-28 15:14:36 | INFO | h11_impl send:467 - 127.0.0.1:55610 - "GET /users/me/ HTTP/1.1" 401
2021-09-28 15:14:37 | INFO | h11_impl send:467 - 127.0.0.1:55610 - "GET /users/me/ HTTP/1.1" 401
2021-09-28 15:14:44 | INFO | h11_impl send:467 - 127.0.0.1:55618 - "POST /token HTTP/1.1" 200
2021-09-28 15:14:47 | INFO | h11_impl send:467 - 127.0.0.1:55618 - "GET /users/me/ HTTP/1.1" 500
2021-09-28 15:14:47 | ERROR | h11_impl run_asgi:399 - Exception in ASGI application

Traceback (most recent call last):

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 110, in <module>
    m.run_server()
    │ └ <function Manager.run_server at 0x7fbaf56cbe60>
    └ <__main__.Manager object at 0x7fbaf56c2d90>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 105, in run_server
    server.run()
    │      └ <function Server.run at 0x7fbaf80a8560>
    └ <uvicorn.server.Server object at 0x7fbaf8154f10>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/server.py", line 49, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x7fbaf80a85f0>
    │    │                  └ <uvicorn.server.Server object at 0x7fbaf8154f10>
    │    └ <function BaseEventLoop.run_until_complete at 0x7fbaf832ca70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 574, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fbaf832c9e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 541, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fbaf832e4d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 1786, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fbaf8383b90>
    └ <Handle <TaskStepMethWrapper object at 0x7fbaf4550a10>()>
  File "/usr/local/lib/python3.7/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x7fbaf4550a10>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x7fbaf4550a10>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x7fbaf4550a10>()>
> File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7fbaf4564050>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fbaf4550cd0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7fbaf45640e0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fbaf4550cd0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fbaf4550cd0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fbaf46015d0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fbaf4550cd0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fbaf4550cd0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7fbaf74a6c50>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fbaf46015d0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fbaf4550cd0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fbaf4550cd0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fbaf4550cd0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fbaf4550cd0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fbaf576d690>
          └ <fastapi.applications.FastAPI object at 0x7fbaf74a6c50>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fbaf455f560>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fbaf4550cd0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fbaf576d610>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fbaf576d690>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fbaf455f560>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fbaf4550cd0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fbaf576d5d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fbaf576d610>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fbaf455f710>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fbaf4550cd0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7fbaf749e990>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fbaf576d5d0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fbaf455f710>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fbaf4550cd0>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x7fbaf6ac58c0>
          └ <fastapi.routing.APIRoute object at 0x7fbaf56fc410>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fbaf455f710>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fbaf4550cd0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x7fbaf56ef5f0>
          └ <fastapi.routing.APIRoute object at 0x7fbaf56fc410>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7fbaf45693d0>
                     └ <function get_request_handler.<locals>.app at 0x7fbaf56ef560>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 218, in app
    is_coroutine=is_coroutine,
                 └ True
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 126, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_read_users_me_users_me__get', type=Optional[UserManage], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='UserManage', errors=[{'loc': ('nickname',), 'msg': 'field required', 'type': 'value_...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 3 validation errors for UserManage
response -> nickname
  field required (type=value_error.missing)
response -> email
  field required (type=value_error.missing)
response -> hashed_password
  extra fields not permitted (type=value_error.extra)
2021-09-28 15:16:57 | INFO | server shutdown:239 - Shutting down
2021-09-28 15:16:57 | INFO | on shutdown:43 - Waiting for application shutdown.
2021-09-28 15:16:57 | INFO | on shutdown:46 - Application shutdown complete.
2021-09-28 15:16:57 | INFO | server serve:77 - Finished server process [1626851]
2021-09-28 15:16:57 | INFO | manager __load_role_map__:69 - 共计3个角色配置
2021-09-28 15:16:58 | INFO | server serve:64 - Started server process [1627175]
2021-09-28 15:16:58 | INFO | on startup:26 - Waiting for application startup.
2021-09-28 15:16:58 | INFO | on startup:38 - Application startup complete.
2021-09-28 15:16:58 | INFO | server _log_started_message:204 - Uvicorn running on http://0.0.0.0:5000 (Press CTRL+C to quit)
2021-09-28 15:17:02 | INFO | h11_impl send:467 - 127.0.0.1:55638 - "GET /docs HTTP/1.1" 200
2021-09-28 15:17:02 | INFO | h11_impl send:467 - 127.0.0.1:55638 - "GET /openapi.json HTTP/1.1" 200
2021-09-28 15:17:11 | INFO | h11_impl send:467 - 127.0.0.1:55640 - "POST /token HTTP/1.1" 200
2021-09-28 15:17:19 | INFO | h11_impl send:467 - 127.0.0.1:55656 - "GET /users/me/ HTTP/1.1" 500
2021-09-28 15:17:19 | ERROR | h11_impl run_asgi:399 - Exception in ASGI application

Traceback (most recent call last):

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 110, in <module>
    m.run_server()
    │ └ <function Manager.run_server at 0x7fc743418e60>
    └ <__main__.Manager object at 0x7fc74340fe50>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 105, in run_server
    server.run()
    │      └ <function Server.run at 0x7fc745df5560>
    └ <uvicorn.server.Server object at 0x7fc745ee6b10>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/server.py", line 49, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x7fc745df55f0>
    │    │                  └ <uvicorn.server.Server object at 0x7fc745ee6b10>
    │    └ <function BaseEventLoop.run_until_complete at 0x7fc746079a70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 574, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fc7460799e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 541, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fc74607b4d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 1786, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fc7460d0b90>
    └ <Handle <TaskStepMethWrapper object at 0x7fc7422bf8d0>()>
  File "/usr/local/lib/python3.7/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x7fc7422bf8d0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x7fc7422bf8d0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x7fc7422bf8d0>()>
> File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7fc7422ae050>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fc7422bf950>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7fc7422ae0e0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fc7422bf950>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fc7422bf950>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fc74234e7d0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fc7422bf950>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fc7422bf950>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7fc7451f3ad0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fc74234e7d0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fc7422bf950>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fc7422bf950>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fc7422bf950>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fc7422bf950>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fc7434ba690>
          └ <fastapi.applications.FastAPI object at 0x7fc7451f3ad0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fc74225ae60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fc7422bf950>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc7434ba610>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fc7434ba690>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fc74225ae60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fc7422bf950>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fc7434ba5d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc7434ba610>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fc7422b93b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fc7422bf950>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7fc7451eb810>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fc7434ba5d0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fc7422b93b0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fc7422bf950>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x7fc7448138c0>
          └ <fastapi.routing.APIRoute object at 0x7fc743449410>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fc7422b93b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fc7422bf950>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x7fc74343c5f0>
          └ <fastapi.routing.APIRoute object at 0x7fc743449410>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7fc7422bff10>
                     └ <function get_request_handler.<locals>.app at 0x7fc74343c560>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 218, in app
    is_coroutine=is_coroutine,
                 └ True
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 126, in serialize_response
    raise ValidationError(errors, field.type_)
          │               │       │     └ <member 'type_' of 'ModelField' objects>
          │               │       └ ModelField(name='Response_read_users_me_users_me__get', type=Optional[UserManage], required=False, default=None)
          │               └ [ErrorWrapper(exc=ValidationError(model='UserManage', errors=[{'loc': ('nickname',), 'msg': 'field required', 'type': 'value_...
          └ <class 'pydantic.error_wrappers.ValidationError'>

pydantic.error_wrappers.ValidationError: 2 validation errors for UserManage
response -> nickname
  field required (type=value_error.missing)
response -> email
  field required (type=value_error.missing)
2021-09-28 15:21:50 | INFO | server shutdown:239 - Shutting down
2021-09-28 15:21:50 | INFO | on shutdown:43 - Waiting for application shutdown.
2021-09-28 15:21:50 | INFO | on shutdown:46 - Application shutdown complete.
2021-09-28 15:21:50 | INFO | server serve:77 - Finished server process [1627175]
2021-09-28 15:21:50 | INFO | manager __load_role_map__:69 - 共计3个角色配置
2021-09-28 15:21:51 | INFO | server serve:64 - Started server process [1627762]
2021-09-28 15:21:51 | INFO | on startup:26 - Waiting for application startup.
2021-09-28 15:21:51 | INFO | on startup:38 - Application startup complete.
2021-09-28 15:21:51 | INFO | server _log_started_message:204 - Uvicorn running on http://0.0.0.0:5000 (Press CTRL+C to quit)
2021-09-28 15:21:56 | INFO | h11_impl send:467 - 127.0.0.1:55674 - "GET /users/me/ HTTP/1.1" 200
2021-09-28 15:23:03 | INFO | server shutdown:239 - Shutting down
2021-09-28 15:23:03 | INFO | on shutdown:43 - Waiting for application shutdown.
2021-09-28 15:23:03 | INFO | on shutdown:46 - Application shutdown complete.
2021-09-28 15:23:03 | INFO | server serve:77 - Finished server process [1627762]
2021-09-28 15:23:03 | INFO | manager __load_role_map__:69 - 共计3个角色配置
2021-09-28 15:23:04 | INFO | server serve:64 - Started server process [1627917]
2021-09-28 15:23:04 | INFO | on startup:26 - Waiting for application startup.
2021-09-28 15:23:04 | INFO | on startup:38 - Application startup complete.
2021-09-28 15:23:04 | INFO | server _log_started_message:204 - Uvicorn running on http://0.0.0.0:5000 (Press CTRL+C to quit)
2021-09-28 15:23:06 | INFO | h11_impl send:467 - 127.0.0.1:55678 - "GET /users/me/ HTTP/1.1" 500
2021-09-28 15:23:06 | ERROR | h11_impl run_asgi:399 - Exception in ASGI application

Traceback (most recent call last):

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 110, in <module>
    m.run_server()
    │ └ <function Manager.run_server at 0x7f5585adadd0>
    └ <__main__.Manager object at 0x7f5585ac5f50>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 105, in run_server
    server.run()
    │      └ <function Server.run at 0x7f55884b5560>
    └ <uvicorn.server.Server object at 0x7f5588605150>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/server.py", line 49, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x7f55884b55f0>
    │    │                  └ <uvicorn.server.Server object at 0x7f5588605150>
    │    └ <function BaseEventLoop.run_until_complete at 0x7f5588739a70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 574, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f55887399e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 541, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f558873b4d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 1786, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f5588790b90>
    └ <Handle <TaskStepMethWrapper object at 0x7f558496af90>()>
  File "/usr/local/lib/python3.7/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x7f558496af90>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x7f558496af90>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x7f558496af90>()>
> File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f558495f050>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f558496a6d0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f558495f0e0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f558496a6d0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f558496a6d0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5584a11b50>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f558496a6d0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f558496a6d0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f55878b3bd0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5584a11b50>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f558496a6d0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f558496a6d0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f558496a6d0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f558496a6d0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5585b78750>
          └ <fastapi.applications.FastAPI object at 0x7f55878b3bd0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f558496c440>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f558496a6d0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f5585b786d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5585b78750>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f558496c440>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f558496a6d0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f5585b78690>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f5585b786d0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f558496c5f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f558496a6d0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f55878ab910>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f5585b78690>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f558496c5f0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f558496a6d0>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x7f5586ed38c0>
          └ <fastapi.routing.APIRoute object at 0x7f5585b08490>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f558496c5f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f558496a6d0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f5585b7a560>
          └ <fastapi.routing.APIRoute object at 0x7f5585b08490>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f558496e3d0>
                     └ <function get_request_handler.<locals>.app at 0x7f5585b7a4d0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 195, in app
    dependency_overrides_provider=dependency_overrides_provider,
                                  └ <fastapi.applications.FastAPI object at 0x7f55878b3bd0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/dependencies/utils.py", line 523, in solve_dependencies
    dependency_cache=dependency_cache,
                     └ {}
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/dependencies/utils.py", line 548, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJqb2huZG9lIiwiZXhwIjoxNjMzNDE4MjMxfQ.AYKbEvRR7F4WKFDO2lX6VgN5eOD_6o...
                   └ <function get_current_user at 0x7f55885c1950>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/routers/user.py", line 35, in get_current_user
    user = get_user(username=token_data.username)
           │                 │          └ 'johndoe'
           │                 └ TokenData(username='johndoe')
           └ <function get_user at 0x7f5585bb2710>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/cruds/user.py", line 37, in get_user
    return UserManage(**user_dict)
           │            └ {'username': 'johndoe', 'nickname': 'John Doe', 'email': 'johndoe@example.com', 'disabled': False}
           └ <class 'api.schemas.user.UserManage'>

  File "pydantic/main.py", line 406, in pydantic.main.BaseModel.__init__
    raise validation_error

pydantic.error_wrappers.ValidationError: 1 validation error for UserManage
hashed_password
  field required (type=value_error.missing)
2021-09-28 15:24:39 | INFO | server shutdown:239 - Shutting down
2021-09-28 15:24:40 | INFO | on shutdown:43 - Waiting for application shutdown.
2021-09-28 15:24:40 | INFO | on shutdown:46 - Application shutdown complete.
2021-09-28 15:24:40 | INFO | server serve:77 - Finished server process [1627917]
2021-09-28 15:24:59 | INFO | manager __load_role_map__:69 - 共计3个角色配置
2021-09-28 15:25:00 | INFO | server serve:64 - Started server process [1628174]
2021-09-28 15:25:00 | INFO | on startup:26 - Waiting for application startup.
2021-09-28 15:25:00 | INFO | on startup:38 - Application startup complete.
2021-09-28 15:25:00 | INFO | server _log_started_message:204 - Uvicorn running on http://0.0.0.0:5000 (Press CTRL+C to quit)
2021-09-28 15:25:01 | INFO | h11_impl send:467 - 127.0.0.1:55706 - "GET /users/me/ HTTP/1.1" 500
2021-09-28 15:25:01 | ERROR | h11_impl run_asgi:399 - Exception in ASGI application

Traceback (most recent call last):

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 110, in <module>
    m.run_server()
    │ └ <function Manager.run_server at 0x7f6073ef1f80>
    └ <__main__.Manager object at 0x7f6073ee6e10>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 105, in run_server
    server.run()
    │      └ <function Server.run at 0x7f60768cd560>
    └ <uvicorn.server.Server object at 0x7f6076979ed0>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/server.py", line 49, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x7f60768cd5f0>
    │    │                  └ <uvicorn.server.Server object at 0x7f6076979ed0>
    │    └ <function BaseEventLoop.run_until_complete at 0x7f6076b51a70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 574, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f6076b519e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 541, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f6076b534d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 1786, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f6076ba8b90>
    └ <Handle <TaskStepMethWrapper object at 0x7f6072d7c750>()>
  File "/usr/local/lib/python3.7/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x7f6072d7c750>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x7f6072d7c750>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x7f6072d7c750>()>
> File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f6072d88170>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f6072d8de50>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f6072d88200>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f6072d8de50>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f6072d8de50>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f6072e2b150>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f6072d8de50>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f6072d8de50>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f6075ccbb10>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f6072e2b150>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f6072d8de50>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f6072d8de50>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f6072d8de50>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f6072d8de50>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f6073f92750>
          └ <fastapi.applications.FastAPI object at 0x7f6075ccbb10>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f6072d87560>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f6072d8de50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f6073f926d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f6073f92750>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f6072d87560>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f6072d8de50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f6073f92690>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f6073f926d0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f6072d87710>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f6072d8de50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f6075cc3850>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f6073f92690>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f6072d87710>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f6072d8de50>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x7f60752eb8c0>
          └ <fastapi.routing.APIRoute object at 0x7f6073f214d0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f6072d87710>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f6072d8de50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f6073f14710>
          └ <fastapi.routing.APIRoute object at 0x7f6073f214d0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f6072d7c810>
                     └ <function get_request_handler.<locals>.app at 0x7f6073f14680>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 195, in app
    dependency_overrides_provider=dependency_overrides_provider,
                                  └ <fastapi.applications.FastAPI object at 0x7f6075ccbb10>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/dependencies/utils.py", line 523, in solve_dependencies
    dependency_cache=dependency_cache,
                     └ {}
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/dependencies/utils.py", line 548, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJqb2huZG9lIiwiZXhwIjoxNjMzNDE4MjMxfQ.AYKbEvRR7F4WKFDO2lX6VgN5eOD_6o...
                   └ <function get_current_user at 0x7f60769d9950>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/routers/user.py", line 35, in get_current_user
    user = get_user_info(username=token_data.username)
           │                      │          └ 'johndoe'
           │                      └ TokenData(username='johndoe')
           └ <function get_user_info at 0x7f6073fcb710>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/cruds/user.py", line 36, in get_user_info
    return UserManage(**user_dict)
           │            └ {'username': 'johndoe', 'nickname': 'John Doe', 'email': 'johndoe@example.com', 'hashed_password': '$2b$12$EixZaYVK1fsbw1ZfbX...
           └ <class 'api.schemas.user.UserManage'>

  File "pydantic/main.py", line 406, in pydantic.main.BaseModel.__init__
    raise validation_error

pydantic.error_wrappers.ValidationError: 1 validation error for UserManage
hashed_password
  extra fields not permitted (type=value_error.extra)
2021-09-28 15:25:31 | INFO | h11_impl send:467 - 127.0.0.1:55714 - "GET /docs HTTP/1.1" 200
2021-09-28 15:25:31 | INFO | h11_impl send:467 - 127.0.0.1:55714 - "GET /openapi.json HTTP/1.1" 200
2021-09-28 15:25:37 | INFO | h11_impl send:467 - 127.0.0.1:55716 - "GET /users/me/ HTTP/1.1" 401
2021-09-28 15:25:38 | INFO | h11_impl send:467 - 127.0.0.1:55716 - "GET /users/me/ HTTP/1.1" 401
2021-09-28 15:27:07 | INFO | server shutdown:239 - Shutting down
2021-09-28 15:27:07 | INFO | on shutdown:43 - Waiting for application shutdown.
2021-09-28 15:27:07 | INFO | on shutdown:46 - Application shutdown complete.
2021-09-28 15:27:07 | INFO | server serve:77 - Finished server process [1628174]
2021-09-28 15:27:07 | INFO | manager __load_role_map__:69 - 共计3个角色配置
2021-09-28 15:27:08 | INFO | server serve:64 - Started server process [1628432]
2021-09-28 15:27:08 | INFO | on startup:26 - Waiting for application startup.
2021-09-28 15:27:08 | INFO | on startup:38 - Application startup complete.
2021-09-28 15:27:08 | INFO | server _log_started_message:204 - Uvicorn running on http://0.0.0.0:5000 (Press CTRL+C to quit)
2021-09-28 15:27:10 | INFO | h11_impl send:467 - 127.0.0.1:55736 - "GET /docs HTTP/1.1" 200
2021-09-28 15:27:10 | INFO | h11_impl send:467 - 127.0.0.1:55736 - "GET /openapi.json HTTP/1.1" 200
2021-09-28 15:27:22 | INFO | h11_impl send:467 - 127.0.0.1:55738 - "POST /token HTTP/1.1" 200
2021-09-28 15:27:26 | INFO | h11_impl send:467 - 127.0.0.1:55738 - "GET /users/me/ HTTP/1.1" 200
2021-09-28 15:27:33 | INFO | h11_impl send:467 - 127.0.0.1:55750 - "GET /users/me/items/ HTTP/1.1" 500
2021-09-28 15:27:33 | ERROR | h11_impl run_asgi:399 - Exception in ASGI application

Traceback (most recent call last):

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 110, in <module>
    m.run_server()
    │ └ <function Manager.run_server at 0x7f9c5fe88f80>
    └ <__main__.Manager object at 0x7f9c5fe7ced0>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 105, in run_server
    server.run()
    │      └ <function Server.run at 0x7f9c62864560>
    └ <uvicorn.server.Server object at 0x7f9c62955b50>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/server.py", line 49, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x7f9c628645f0>
    │    │                  └ <uvicorn.server.Server object at 0x7f9c62955b50>
    │    └ <function BaseEventLoop.run_until_complete at 0x7f9c62ae8a70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 574, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f9c62ae89e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 541, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f9c62aea4d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 1786, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f9c62b3fb90>
    └ <Handle <TaskStepMethWrapper object at 0x7f9c5ed0c590>()>
  File "/usr/local/lib/python3.7/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x7f9c5ed0c590>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x7f9c5ed0c590>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x7f9c5ed0c590>()>
> File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f9c5ed18170>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c5ed0c410>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f9c5ed18200>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c5ed0c410>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c5ed0c410>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f9c5edbc690>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c5ed0c410>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c5ed0c410>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f9c61c62c10>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f9c5edbc690>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c5ed0c410>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c5ed0c410>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c5ed0c410>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c5ed0c410>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f9c5ff29710>
          └ <fastapi.applications.FastAPI object at 0x7f9c61c62c10>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f9c5ed1e5f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c5ed0c410>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f9c5ff29690>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f9c5ff29710>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f9c5ed1e5f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c5ed0c410>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f9c5ff29650>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f9c5ff29690>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f9c5ed1e7a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c5ed0c410>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f9c61c5a950>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f9c5ff29650>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f9c5ed1e7a0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c5ed0c410>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x7f9c612838c0>
          └ <fastapi.routing.APIRoute object at 0x7f9c5feb8fd0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f9c5ed1e7a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c5ed0c410>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f9c5feab830>
          └ <fastapi.routing.APIRoute object at 0x7f9c5feb8fd0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f9c5ed0c710>
                     └ <function get_request_handler.<locals>.app at 0x7f9c5feab4d0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 195, in app
    dependency_overrides_provider=dependency_overrides_provider,
                                  └ <fastapi.applications.FastAPI object at 0x7f9c61c62c10>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/dependencies/utils.py", line 523, in solve_dependencies
    dependency_cache=dependency_cache,
                     └ {}
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/dependencies/utils.py", line 548, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJqb2huZG9lIiwiZXhwIjoxNjMzNDE4ODQyfQ.8zBOyGe403IIaBrbAw03ghivGPHT6W...
                   └ <function get_current_user at 0x7f9c62970950>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/routers/user.py", line 35, in get_current_user
    user = get_user_info(username=token_data.username)
           │                      │          └ 'johndoe'
           │                      └ TokenData(username='johndoe')
           └ <function get_user_info at 0x7f9c5ff61710>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/cruds/user.py", line 36, in get_user_info
    user_dict.pop('hashed_password')
    │         └ <method 'pop' of 'dict' objects>
    └ {'username': 'johndoe', 'nickname': 'John Doe', 'email': 'johndoe@example.com', 'disabled': False}

KeyError: 'hashed_password'
2021-09-28 15:27:35 | INFO | h11_impl send:467 - 127.0.0.1:55752 - "GET /users/me/items/ HTTP/1.1" 500
2021-09-28 15:27:35 | ERROR | h11_impl run_asgi:399 - Exception in ASGI application

Traceback (most recent call last):

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 110, in <module>
    m.run_server()
    │ └ <function Manager.run_server at 0x7f9c5fe88f80>
    └ <__main__.Manager object at 0x7f9c5fe7ced0>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 105, in run_server
    server.run()
    │      └ <function Server.run at 0x7f9c62864560>
    └ <uvicorn.server.Server object at 0x7f9c62955b50>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/server.py", line 49, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x7f9c628645f0>
    │    │                  └ <uvicorn.server.Server object at 0x7f9c62955b50>
    │    └ <function BaseEventLoop.run_until_complete at 0x7f9c62ae8a70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 574, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f9c62ae89e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 541, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f9c62aea4d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 1786, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f9c62b3fb90>
    └ <Handle <TaskStepMethWrapper object at 0x7f9c5ed2eb90>()>
  File "/usr/local/lib/python3.7/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x7f9c5ed2eb90>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x7f9c5ed2eb90>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x7f9c5ed2eb90>()>
> File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f9c5ed18170>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c5ed2ec50>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f9c5ed18200>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c5ed2ec50>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c5ed2ec50>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f9c5edbc690>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c5ed2ec50>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c5ed2ec50>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f9c61c62c10>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f9c5edbc690>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c5ed2ec50>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c5ed2ec50>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c5ed2ec50>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c5ed2ec50>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f9c5ff29710>
          └ <fastapi.applications.FastAPI object at 0x7f9c61c62c10>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f9c5e40c200>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c5ed2ec50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f9c5ff29690>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f9c5ff29710>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f9c5e40c200>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c5ed2ec50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f9c5ff29650>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f9c5ff29690>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f9c5e40c3b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c5ed2ec50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f9c61c5a950>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f9c5ff29650>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f9c5e40c3b0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c5ed2ec50>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x7f9c612838c0>
          └ <fastapi.routing.APIRoute object at 0x7f9c5feb8fd0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f9c5e40c3b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c5ed2ec50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f9c5feab830>
          └ <fastapi.routing.APIRoute object at 0x7f9c5feb8fd0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f9c5ece6190>
                     └ <function get_request_handler.<locals>.app at 0x7f9c5feab4d0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 195, in app
    dependency_overrides_provider=dependency_overrides_provider,
                                  └ <fastapi.applications.FastAPI object at 0x7f9c61c62c10>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/dependencies/utils.py", line 523, in solve_dependencies
    dependency_cache=dependency_cache,
                     └ {}
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/dependencies/utils.py", line 548, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJqb2huZG9lIiwiZXhwIjoxNjMzNDE4ODQyfQ.8zBOyGe403IIaBrbAw03ghivGPHT6W...
                   └ <function get_current_user at 0x7f9c62970950>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/routers/user.py", line 35, in get_current_user
    user = get_user_info(username=token_data.username)
           │                      │          └ 'johndoe'
           │                      └ TokenData(username='johndoe')
           └ <function get_user_info at 0x7f9c5ff61710>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/cruds/user.py", line 36, in get_user_info
    user_dict.pop('hashed_password')
    │         └ <method 'pop' of 'dict' objects>
    └ {'username': 'johndoe', 'nickname': 'John Doe', 'email': 'johndoe@example.com', 'disabled': False}

KeyError: 'hashed_password'
2021-09-28 15:28:18 | INFO | h11_impl send:467 - 127.0.0.1:55754 - "GET /users/me/ HTTP/1.1" 500
2021-09-28 15:28:18 | ERROR | h11_impl run_asgi:399 - Exception in ASGI application

Traceback (most recent call last):

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 110, in <module>
    m.run_server()
    │ └ <function Manager.run_server at 0x7f9c5fe88f80>
    └ <__main__.Manager object at 0x7f9c5fe7ced0>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 105, in run_server
    server.run()
    │      └ <function Server.run at 0x7f9c62864560>
    └ <uvicorn.server.Server object at 0x7f9c62955b50>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/server.py", line 49, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x7f9c628645f0>
    │    │                  └ <uvicorn.server.Server object at 0x7f9c62955b50>
    │    └ <function BaseEventLoop.run_until_complete at 0x7f9c62ae8a70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 574, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f9c62ae89e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 541, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f9c62aea4d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 1786, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f9c62b3fb90>
    └ <Handle <TaskStepMethWrapper object at 0x7f9c5e4212d0>()>
  File "/usr/local/lib/python3.7/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x7f9c5e4212d0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x7f9c5e4212d0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x7f9c5e4212d0>()>
> File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f9c5ed18170>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c5e421510>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f9c5ed18200>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c5e421510>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c5e421510>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f9c5edbc690>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c5e421510>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c5e421510>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f9c61c62c10>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f9c5edbc690>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c5e421510>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c5e421510>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c5e421510>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c5e421510>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f9c5ff29710>
          └ <fastapi.applications.FastAPI object at 0x7f9c61c62c10>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f9c5e40c170>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c5e421510>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f9c5ff29690>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f9c5ff29710>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f9c5e40c170>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c5e421510>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f9c5ff29650>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f9c5ff29690>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f9c5e40c560>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c5e421510>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f9c61c5a950>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f9c5ff29650>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f9c5e40c560>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c5e421510>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x7f9c612838c0>
          └ <fastapi.routing.APIRoute object at 0x7f9c5feb8490>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f9c5e40c560>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9c5e421510>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f9c5feab710>
          └ <fastapi.routing.APIRoute object at 0x7f9c5feb8490>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f9c5e421e90>
                     └ <function get_request_handler.<locals>.app at 0x7f9c5feab680>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 195, in app
    dependency_overrides_provider=dependency_overrides_provider,
                                  └ <fastapi.applications.FastAPI object at 0x7f9c61c62c10>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/dependencies/utils.py", line 523, in solve_dependencies
    dependency_cache=dependency_cache,
                     └ {}
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/dependencies/utils.py", line 548, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJqb2huZG9lIiwiZXhwIjoxNjMzNDE4ODQyfQ.8zBOyGe403IIaBrbAw03ghivGPHT6W...
                   └ <function get_current_user at 0x7f9c62970950>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/routers/user.py", line 35, in get_current_user
    user = get_user_info(username=token_data.username)
           │                      │          └ 'johndoe'
           │                      └ TokenData(username='johndoe')
           └ <function get_user_info at 0x7f9c5ff61710>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/cruds/user.py", line 36, in get_user_info
    user_dict.pop('hashed_password')
    │         └ <method 'pop' of 'dict' objects>
    └ {'username': 'johndoe', 'nickname': 'John Doe', 'email': 'johndoe@example.com', 'disabled': False}

KeyError: 'hashed_password'
2021-09-28 15:28:45 | INFO | server shutdown:239 - Shutting down
2021-09-28 15:28:45 | INFO | on shutdown:43 - Waiting for application shutdown.
2021-09-28 15:28:45 | INFO | on shutdown:46 - Application shutdown complete.
2021-09-28 15:28:45 | INFO | server serve:77 - Finished server process [1628432]
2021-09-28 15:28:45 | INFO | manager __load_role_map__:69 - 共计3个角色配置
2021-09-28 15:28:46 | INFO | server serve:64 - Started server process [1628633]
2021-09-28 15:28:46 | INFO | on startup:26 - Waiting for application startup.
2021-09-28 15:28:46 | INFO | on startup:38 - Application startup complete.
2021-09-28 15:28:46 | INFO | server _log_started_message:204 - Uvicorn running on http://0.0.0.0:5000 (Press CTRL+C to quit)
2021-09-28 15:28:53 | INFO | h11_impl send:467 - 127.0.0.1:55766 - "GET /docs HTTP/1.1" 200
2021-09-28 15:28:53 | INFO | h11_impl send:467 - 127.0.0.1:55766 - "GET /openapi.json HTTP/1.1" 200
2021-09-28 15:29:09 | INFO | h11_impl send:467 - 127.0.0.1:55768 - "POST /token HTTP/1.1" 200
2021-09-28 15:29:13 | INFO | h11_impl send:467 - 127.0.0.1:55768 - "GET /users/me/ HTTP/1.1" 200
2021-09-28 15:29:20 | INFO | h11_impl send:467 - 127.0.0.1:55776 - "GET /users/me/items/ HTTP/1.1" 200
2021-09-28 15:48:09 | INFO | server shutdown:239 - Shutting down
2021-09-28 15:48:09 | INFO | on shutdown:43 - Waiting for application shutdown.
2021-09-28 15:48:09 | INFO | on shutdown:46 - Application shutdown complete.
2021-09-28 15:48:09 | INFO | server serve:77 - Finished server process [1628633]
2021-09-28 15:48:09 | INFO | manager __load_role_map__:69 - 共计3个角色配置
2021-09-28 15:48:10 | INFO | server serve:64 - Started server process [1631014]
2021-09-28 15:48:10 | INFO | on startup:26 - Waiting for application startup.
2021-09-28 15:48:10 | INFO | on startup:38 - Application startup complete.
2021-09-28 15:48:10 | INFO | server _log_started_message:204 - Uvicorn running on http://0.0.0.0:5000 (Press CTRL+C to quit)
2021-09-28 15:48:14 | INFO | h11_impl send:467 - 127.0.0.1:55940 - "GET /docs HTTP/1.1" 200
2021-09-28 15:48:15 | INFO | h11_impl send:467 - 127.0.0.1:55940 - "GET /openapi.json HTTP/1.1" 200
2021-09-28 15:48:20 | INFO | h11_impl send:467 - 127.0.0.1:55942 - "POST /token HTTP/1.1" 200
2021-09-28 15:48:32 | INFO | h11_impl send:467 - 127.0.0.1:55950 - "GET /users/me/ HTTP/1.1" 401
2021-09-28 15:48:32 | INFO | h11_impl send:467 - 127.0.0.1:55950 - "GET /users/me/ HTTP/1.1" 401
2021-09-28 15:49:13 | INFO | h11_impl send:467 - 127.0.0.1:56030 - "POST /token HTTP/1.1" 200
2021-09-28 15:49:27 | INFO | h11_impl send:467 - 127.0.0.1:56032 - "POST /token HTTP/1.1" 200
2021-09-28 15:52:18 | INFO | server shutdown:239 - Shutting down
2021-09-28 15:52:18 | INFO | on shutdown:43 - Waiting for application shutdown.
2021-09-28 15:52:18 | INFO | on shutdown:46 - Application shutdown complete.
2021-09-28 15:52:18 | INFO | server serve:77 - Finished server process [1631014]
2021-09-28 15:52:18 | INFO | manager __load_role_map__:69 - 共计3个角色配置
2021-09-28 15:52:19 | INFO | server serve:64 - Started server process [1631551]
2021-09-28 15:52:19 | INFO | on startup:26 - Waiting for application startup.
2021-09-28 15:52:19 | INFO | on startup:38 - Application startup complete.
2021-09-28 15:52:19 | INFO | server _log_started_message:204 - Uvicorn running on http://0.0.0.0:5000 (Press CTRL+C to quit)
2021-09-28 15:52:23 | INFO | h11_impl send:467 - 127.0.0.1:56046 - "POST /token HTTP/1.1" 200
2021-09-28 15:52:26 | INFO | h11_impl send:467 - 127.0.0.1:56046 - "GET /users/me/ HTTP/1.1" 401
2021-09-28 15:52:33 | INFO | h11_impl send:467 - 127.0.0.1:56058 - "GET /users/me/ HTTP/1.1" 401
2021-09-28 15:53:56 | INFO | server shutdown:239 - Shutting down
2021-09-28 15:53:56 | INFO | on shutdown:43 - Waiting for application shutdown.
2021-09-28 15:53:56 | INFO | on shutdown:46 - Application shutdown complete.
2021-09-28 15:53:56 | INFO | server serve:77 - Finished server process [1631551]
2021-09-28 15:53:56 | INFO | manager __load_role_map__:69 - 共计3个角色配置
2021-09-28 15:53:57 | INFO | server serve:64 - Started server process [1631761]
2021-09-28 15:53:57 | INFO | on startup:26 - Waiting for application startup.
2021-09-28 15:53:57 | INFO | on startup:38 - Application startup complete.
2021-09-28 15:53:57 | INFO | server _log_started_message:204 - Uvicorn running on http://0.0.0.0:5000 (Press CTRL+C to quit)
2021-09-28 16:05:16 | INFO | server shutdown:239 - Shutting down
2021-09-28 16:05:16 | INFO | on shutdown:43 - Waiting for application shutdown.
2021-09-28 16:05:16 | INFO | on shutdown:46 - Application shutdown complete.
2021-09-28 16:05:16 | INFO | server serve:77 - Finished server process [1631761]
2021-09-28 16:05:17 | INFO | manager __load_role_map__:69 - 共计3个角色配置
2021-09-28 16:05:18 | INFO | server serve:64 - Started server process [1633093]
2021-09-28 16:05:18 | INFO | on startup:26 - Waiting for application startup.
2021-09-28 16:05:18 | INFO | on startup:38 - Application startup complete.
2021-09-28 16:05:18 | INFO | server _log_started_message:204 - Uvicorn running on http://0.0.0.0:5000 (Press CTRL+C to quit)
2021-09-28 16:05:23 | INFO | h11_impl send:467 - 127.0.0.1:56174 - "GET /users/me/ HTTP/1.1" 401
2021-09-28 16:05:33 | INFO | h11_impl send:467 - 127.0.0.1:56182 - "GET /docs HTTP/1.1" 200
2021-09-28 16:05:33 | INFO | h11_impl send:467 - 127.0.0.1:56182 - "GET /openapi.json HTTP/1.1" 200
2021-09-28 16:05:43 | ERROR | user authenticate_user:62 - An error has been caught in function 'authenticate_user', process 'MainProcess' (1633093), thread 'MainThread' (139960459440512):
Traceback (most recent call last):

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 110, in <module>
    m.run_server()
    │ └ <function Manager.run_server at 0x7f4b113f75f0>
    └ <__main__.Manager object at 0x7f4b113f4290>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 105, in run_server
    server.run()
    │      └ <function Server.run at 0x7f4b13dc2560>
    └ <uvicorn.server.Server object at 0x7f4b13f12050>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/server.py", line 49, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x7f4b13dc25f0>
    │    │                  └ <uvicorn.server.Server object at 0x7f4b13f12050>
    │    └ <function BaseEventLoop.run_until_complete at 0x7f4b14046a70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 574, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f4b140469e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 541, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f4b140484d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 1786, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f4b1409db90>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f4b10282390>(<Future finis...7f4b103241d0>>)>
  File "/usr/local/lib/python3.7/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x7f4b10282390>(<Future finis...7f4b103241d0>>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x7f4b10282390>(<Future finis...7f4b103241d0>>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f4b10282390>(<Future finis...7f4b103241d0>>)>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f4b1026f9e0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f4b1028b110>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f4b1026fa70>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f4b1028b110>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f4b1028b110>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f4b1031ddd0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f4b1028b110>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f4b1028b110>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f4b131c0b90>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f4b1031ddd0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f4b1028b110>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f4b1028b110>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f4b1028b110>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f4b1028b110>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f4b113dd710>
          └ <fastapi.applications.FastAPI object at 0x7f4b131c0b90>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f4b10293050>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f4b1028b110>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f4b113dd690>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f4b113dd710>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:5000', 'connection': 'keep-alive', 'content-length': '75', 'sec-ch-ua': '"Chromium";v="92", " Not...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f4b10293050>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f4b1028b110>>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x7f4b127adc20>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f4b113dd690>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f4b113dd690>>, ...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f4b1028b110>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f4b113dd650>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f4b113dd690>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f4b10293290>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f4b1028b110>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f4b131b88d0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f4b113dd650>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f4b10293290>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f4b1028b110>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x7f4b127e08c0>
          └ <fastapi.routing.APIRoute object at 0x7f4b11426f10>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f4b10293290>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f4b1028b110>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f4b113e0440>
          └ <fastapi.routing.APIRoute object at 0x7f4b11426f10>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f4b1028b750>
                     └ <function get_request_handler.<locals>.app at 0x7f4b113e05f0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
              │                 │                    └ True
              │                 └ {'form_data': <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f4b103241d0>}
              └ <fastapi.dependencies.models.Dependant object at 0x7f4b113d36d0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'form_data': <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f4b103241d0>}
                 │         └ <function login_for_access_token at 0x7f4b1143bb90>
                 └ <fastapi.dependencies.models.Dependant object at 0x7f4b113d36d0>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/routers/user.py", line 51, in login_for_access_token
    user = authenticate_user(form_data.username, form_data.password)
           │                 │         │         │         └ '123456'
           │                 │         │         └ <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f4b103241d0>
           │                 │         └ 'X2590'
           │                 └ <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f4b103241d0>
           └ <function authenticate_user at 0x7f4b1143ba70>

> File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/cruds/user.py", line 62, in authenticate_user
    user = get_user_secret(username)
           │               └ 'X2590'
           └ <function get_user_secret at 0x7f4b1143b9e0>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/cruds/user.py", line 56, in get_user_secret
    user_dict = db.session.query(User.username == username).one()
                │                │    │           └ 'X2590'
                │                │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f4b11428d70>
                │                └ <class 'model.models.User'>
                └ Depends(get_db)

AttributeError: 'Depends' object has no attribute 'session'
2021-09-28 16:05:43 | INFO | h11_impl send:467 - 127.0.0.1:56184 - "POST /token HTTP/1.1" 500
2021-09-28 16:05:43 | ERROR | h11_impl run_asgi:399 - Exception in ASGI application

Traceback (most recent call last):

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 110, in <module>
    m.run_server()
    │ └ <function Manager.run_server at 0x7f4b113f75f0>
    └ <__main__.Manager object at 0x7f4b113f4290>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 105, in run_server
    server.run()
    │      └ <function Server.run at 0x7f4b13dc2560>
    └ <uvicorn.server.Server object at 0x7f4b13f12050>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/server.py", line 49, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x7f4b13dc25f0>
    │    │                  └ <uvicorn.server.Server object at 0x7f4b13f12050>
    │    └ <function BaseEventLoop.run_until_complete at 0x7f4b14046a70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 574, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f4b140469e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 541, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f4b140484d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 1786, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f4b1409db90>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f4b10282390>(<Future finis...7f4b103241d0>>)>
  File "/usr/local/lib/python3.7/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x7f4b10282390>(<Future finis...7f4b103241d0>>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x7f4b10282390>(<Future finis...7f4b103241d0>>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f4b10282390>(<Future finis...7f4b103241d0>>)>
> File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f4b1026f9e0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f4b1028b110>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f4b1026fa70>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f4b1028b110>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f4b1028b110>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f4b1031ddd0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f4b1028b110>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f4b1028b110>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f4b131c0b90>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f4b1031ddd0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f4b1028b110>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f4b1028b110>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f4b1028b110>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f4b1028b110>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f4b113dd710>
          └ <fastapi.applications.FastAPI object at 0x7f4b131c0b90>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f4b10293050>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f4b1028b110>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f4b113dd690>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f4b113dd710>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:5000', 'connection': 'keep-alive', 'content-length': '75', 'sec-ch-ua': '"Chromium";v="92", " Not...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f4b10293050>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f4b1028b110>>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x7f4b127adc20>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f4b113dd690>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f4b113dd690>>, ...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f4b1028b110>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f4b113dd650>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f4b113dd690>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f4b10293290>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f4b1028b110>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f4b131b88d0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f4b113dd650>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f4b10293290>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f4b1028b110>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x7f4b127e08c0>
          └ <fastapi.routing.APIRoute object at 0x7f4b11426f10>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f4b10293290>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f4b1028b110>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f4b113e0440>
          └ <fastapi.routing.APIRoute object at 0x7f4b11426f10>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f4b1028b750>
                     └ <function get_request_handler.<locals>.app at 0x7f4b113e05f0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
              │                 │                    └ True
              │                 └ {'form_data': <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f4b103241d0>}
              └ <fastapi.dependencies.models.Dependant object at 0x7f4b113d36d0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'form_data': <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f4b103241d0>}
                 │         └ <function login_for_access_token at 0x7f4b1143bb90>
                 └ <fastapi.dependencies.models.Dependant object at 0x7f4b113d36d0>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/routers/user.py", line 51, in login_for_access_token
    user = authenticate_user(form_data.username, form_data.password)
           │                 │         │         │         └ '123456'
           │                 │         │         └ <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f4b103241d0>
           │                 │         └ 'X2590'
           │                 └ <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f4b103241d0>
           └ <function authenticate_user at 0x7f4b1143ba70>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/cruds/user.py", line 62, in authenticate_user
    user = get_user_secret(username)
           │               └ 'X2590'
           └ <function get_user_secret at 0x7f4b1143b9e0>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/cruds/user.py", line 56, in get_user_secret
    user_dict = db.session.query(User.username == username).one()
                │                │    │           └ 'X2590'
                │                │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f4b11428d70>
                │                └ <class 'model.models.User'>
                └ Depends(get_db)

AttributeError: 'Depends' object has no attribute 'session'
2021-09-28 16:08:52 | INFO | server shutdown:239 - Shutting down
2021-09-28 16:08:52 | INFO | on shutdown:43 - Waiting for application shutdown.
2021-09-28 16:08:52 | INFO | on shutdown:46 - Application shutdown complete.
2021-09-28 16:08:52 | INFO | server serve:77 - Finished server process [1633093]
2021-09-28 16:08:53 | INFO | manager __load_role_map__:69 - 共计3个角色配置
2021-09-28 16:08:54 | INFO | server serve:64 - Started server process [1633509]
2021-09-28 16:08:54 | INFO | on startup:26 - Waiting for application startup.
2021-09-28 16:08:54 | INFO | on startup:38 - Application startup complete.
2021-09-28 16:08:54 | INFO | server _log_started_message:204 - Uvicorn running on http://0.0.0.0:5000 (Press CTRL+C to quit)
2021-09-28 16:08:57 | ERROR | user authenticate_user:63 - An error has been caught in function 'authenticate_user', process 'MainProcess' (1633509), thread 'MainThread' (140324314153344):
Traceback (most recent call last):

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 110, in <module>
    m.run_server()
    │ └ <function Manager.run_server at 0x7f9fc8adc5f0>
    └ <__main__.Manager object at 0x7f9fc8ade150>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 105, in run_server
    server.run()
    │      └ <function Server.run at 0x7f9fcb4a7560>
    └ <uvicorn.server.Server object at 0x7f9fcb5f7050>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/server.py", line 49, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x7f9fcb4a75f0>
    │    │                  └ <uvicorn.server.Server object at 0x7f9fcb5f7050>
    │    └ <function BaseEventLoop.run_until_complete at 0x7f9fcb72ba70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 574, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f9fcb72b9e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 541, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f9fcb72d4d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 1786, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f9fcb782b90>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f9fc8160b90>(<Future finis...7f9fc8102310>>)>
  File "/usr/local/lib/python3.7/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x7f9fc8160b90>(<Future finis...7f9fc8102310>>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x7f9fc8160b90>(<Future finis...7f9fc8102310>>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f9fc8160b90>(<Future finis...7f9fc8102310>>)>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f9fc81699e0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9fc81684d0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f9fc8169a70>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9fc81684d0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9fc81684d0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f9fcb22de10>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9fc81684d0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9fc81684d0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f9fca8a5c10>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f9fcb22de10>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9fc81684d0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9fc81684d0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9fc81684d0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9fc81684d0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f9fc8ac45d0>
          └ <fastapi.applications.FastAPI object at 0x7f9fca8a5c10>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f9fc8179dd0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9fc81684d0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f9fc8ac4550>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f9fc8ac45d0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:5000', 'connection': 'keep-alive', 'content-length': '75', 'sec-ch-ua': '"Chromium";v="92", " Not...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f9fc8179dd0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9fc81684d0>>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x7f9fc9e91c20>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f9fc8ac4550>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f9fc8ac4550>>, ...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9fc81684d0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f9fc8ac4510>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f9fc8ac4550>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f9fc80fe050>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9fc81684d0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f9fca89d950>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f9fc8ac4510>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f9fc80fe050>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9fc81684d0>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x7f9fc9ec48c0>
          └ <fastapi.routing.APIRoute object at 0x7f9fc8b0edd0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f9fc80fe050>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9fc81684d0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f9fc8ac5440>
          └ <fastapi.routing.APIRoute object at 0x7f9fc8b0edd0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f9fc8168d10>
                     └ <function get_request_handler.<locals>.app at 0x7f9fc8ac55f0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
              │                 │                    └ True
              │                 └ {'form_data': <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f9fc8102310>}
              └ <fastapi.dependencies.models.Dependant object at 0x7f9fc8ab8590>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'form_data': <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f9fc8102310>}
                 │         └ <function login_for_access_token at 0x7f9fc8b1fb90>
                 └ <fastapi.dependencies.models.Dependant object at 0x7f9fc8ab8590>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/routers/user.py", line 51, in login_for_access_token
    user = authenticate_user(form_data.username, form_data.password)
           │                 │         │         │         └ '123456'
           │                 │         │         └ <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f9fc8102310>
           │                 │         └ 'X2590'
           │                 └ <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f9fc8102310>
           └ <function authenticate_user at 0x7f9fc8b1fa70>

> File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/cruds/user.py", line 63, in authenticate_user
    user = get_user_secret(username)
           │               └ 'X2590'
           └ <function get_user_secret at 0x7f9fc8b1f9e0>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/cruds/user.py", line 57, in get_user_secret
    user_dict = db.session.query(User.username == username).one()
                │                │    │           └ 'X2590'
                │                │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f9fc8b0ddd0>
                │                └ <class 'model.models.User'>
                └ Depends(get_db)

AttributeError: 'Depends' object has no attribute 'session'
2021-09-28 16:08:57 | INFO | h11_impl send:467 - 127.0.0.1:56232 - "POST /token HTTP/1.1" 500
2021-09-28 16:08:57 | ERROR | h11_impl run_asgi:399 - Exception in ASGI application

Traceback (most recent call last):

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 110, in <module>
    m.run_server()
    │ └ <function Manager.run_server at 0x7f9fc8adc5f0>
    └ <__main__.Manager object at 0x7f9fc8ade150>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 105, in run_server
    server.run()
    │      └ <function Server.run at 0x7f9fcb4a7560>
    └ <uvicorn.server.Server object at 0x7f9fcb5f7050>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/server.py", line 49, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x7f9fcb4a75f0>
    │    │                  └ <uvicorn.server.Server object at 0x7f9fcb5f7050>
    │    └ <function BaseEventLoop.run_until_complete at 0x7f9fcb72ba70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 574, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f9fcb72b9e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 541, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f9fcb72d4d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 1786, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f9fcb782b90>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f9fc8160b90>(<Future finis...7f9fc8102310>>)>
  File "/usr/local/lib/python3.7/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x7f9fc8160b90>(<Future finis...7f9fc8102310>>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x7f9fc8160b90>(<Future finis...7f9fc8102310>>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f9fc8160b90>(<Future finis...7f9fc8102310>>)>
> File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f9fc81699e0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9fc81684d0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f9fc8169a70>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9fc81684d0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9fc81684d0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f9fcb22de10>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9fc81684d0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9fc81684d0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f9fca8a5c10>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f9fcb22de10>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9fc81684d0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9fc81684d0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9fc81684d0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9fc81684d0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f9fc8ac45d0>
          └ <fastapi.applications.FastAPI object at 0x7f9fca8a5c10>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f9fc8179dd0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9fc81684d0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f9fc8ac4550>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f9fc8ac45d0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:5000', 'connection': 'keep-alive', 'content-length': '75', 'sec-ch-ua': '"Chromium";v="92", " Not...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f9fc8179dd0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9fc81684d0>>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x7f9fc9e91c20>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f9fc8ac4550>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f9fc8ac4550>>, ...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9fc81684d0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f9fc8ac4510>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f9fc8ac4550>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f9fc80fe050>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9fc81684d0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f9fca89d950>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f9fc8ac4510>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f9fc80fe050>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9fc81684d0>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x7f9fc9ec48c0>
          └ <fastapi.routing.APIRoute object at 0x7f9fc8b0edd0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f9fc80fe050>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f9fc81684d0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f9fc8ac5440>
          └ <fastapi.routing.APIRoute object at 0x7f9fc8b0edd0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f9fc8168d10>
                     └ <function get_request_handler.<locals>.app at 0x7f9fc8ac55f0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
              │                 │                    └ True
              │                 └ {'form_data': <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f9fc8102310>}
              └ <fastapi.dependencies.models.Dependant object at 0x7f9fc8ab8590>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'form_data': <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f9fc8102310>}
                 │         └ <function login_for_access_token at 0x7f9fc8b1fb90>
                 └ <fastapi.dependencies.models.Dependant object at 0x7f9fc8ab8590>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/routers/user.py", line 51, in login_for_access_token
    user = authenticate_user(form_data.username, form_data.password)
           │                 │         │         │         └ '123456'
           │                 │         │         └ <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f9fc8102310>
           │                 │         └ 'X2590'
           │                 └ <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f9fc8102310>
           └ <function authenticate_user at 0x7f9fc8b1fa70>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/cruds/user.py", line 63, in authenticate_user
    user = get_user_secret(username)
           │               └ 'X2590'
           └ <function get_user_secret at 0x7f9fc8b1f9e0>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/cruds/user.py", line 57, in get_user_secret
    user_dict = db.session.query(User.username == username).one()
                │                │    │           └ 'X2590'
                │                │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f9fc8b0ddd0>
                │                └ <class 'model.models.User'>
                └ Depends(get_db)

AttributeError: 'Depends' object has no attribute 'session'
2021-09-28 16:19:28 | INFO | server shutdown:239 - Shutting down
2021-09-28 16:19:28 | INFO | on shutdown:43 - Waiting for application shutdown.
2021-09-28 16:19:28 | INFO | on shutdown:46 - Application shutdown complete.
2021-09-28 16:19:28 | INFO | server serve:77 - Finished server process [1633509]
2021-09-28 16:19:29 | INFO | manager __load_role_map__:69 - 共计3个角色配置
2021-09-28 16:19:30 | INFO | server serve:64 - Started server process [1634953]
2021-09-28 16:19:30 | INFO | on startup:26 - Waiting for application startup.
2021-09-28 16:19:30 | INFO | on startup:38 - Application startup complete.
2021-09-28 16:19:30 | INFO | server _log_started_message:204 - Uvicorn running on http://0.0.0.0:5000 (Press CTRL+C to quit)
2021-09-28 16:20:00 | INFO | h11_impl send:467 - 127.0.0.1:56960 - "GET /docs HTTP/1.1" 200
2021-09-28 16:20:00 | INFO | h11_impl send:467 - 127.0.0.1:56960 - "GET /openapi.json HTTP/1.1" 200
2021-09-28 16:20:12 | ERROR | user authenticate_user:63 - An error has been caught in function 'authenticate_user', process 'MainProcess' (1634953), thread 'MainThread' (140221368258944):
Traceback (most recent call last):

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 110, in <module>
    m.run_server()
    │ └ <function Manager.run_server at 0x7f87d0a03680>
    └ <__main__.Manager object at 0x7f87d0a041d0>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 105, in run_server
    server.run()
    │      └ <function Server.run at 0x7f87d33cc560>
    └ <uvicorn.server.Server object at 0x7f87d351c150>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/server.py", line 49, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x7f87d33cc5f0>
    │    │                  └ <uvicorn.server.Server object at 0x7f87d351c150>
    │    └ <function BaseEventLoop.run_until_complete at 0x7f87d3650a70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 574, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f87d36509e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 541, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f87d36524d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 1786, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f87d36a7b90>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f87d008a210>(<Future finis...7f87d008af50>>)>
  File "/usr/local/lib/python3.7/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x7f87d008a210>(<Future finis...7f87d008af50>>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x7f87d008a210>(<Future finis...7f87d008af50>>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f87d008a210>(<Future finis...7f87d008af50>>)>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f87d008ba70>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f87d0093fd0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f87d008bb00>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f87d0093fd0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f87d0093fd0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f87d012c710>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f87d0093fd0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f87d0093fd0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f87d27cab10>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f87d012c710>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f87d0093fd0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f87d0093fd0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f87d0093fd0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f87d0093fd0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f87d09e9590>
          └ <fastapi.applications.FastAPI object at 0x7f87d27cab10>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f87d0096b90>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f87d0093fd0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f87d09e9510>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f87d09e9590>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:5000', 'connection': 'keep-alive', 'content-length': '75', 'sec-ch-ua': '"Chromium";v="92", " Not...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f87d0096b90>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f87d0093fd0>>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x7f87d1db6c20>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f87d09e9510>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f87d09e9510>>, ...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f87d0093fd0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f87d09e94d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f87d09e9510>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f87d0096dd0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f87d0093fd0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f87d27c2850>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f87d09e94d0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f87d0096dd0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f87d0093fd0>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x7f87d1de88c0>
          └ <fastapi.routing.APIRoute object at 0x7f87d0a31d90>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f87d0096dd0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f87d0093fd0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f87d09eb4d0>
          └ <fastapi.routing.APIRoute object at 0x7f87d0a31d90>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f87d0093c50>
                     └ <function get_request_handler.<locals>.app at 0x7f87d09eb560>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
              │                 │                    └ True
              │                 └ {'form_data': <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f87d008af10>, 'db': <utils.db.DB object at 0x7f...
              └ <fastapi.dependencies.models.Dependant object at 0x7f87d09e04d0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'form_data': <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f87d008af10>, 'db': <utils.db.DB object at 0x7f...
                 │         └ <function login_for_access_token at 0x7f87d0a45c20>
                 └ <fastapi.dependencies.models.Dependant object at 0x7f87d09e04d0>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/routers/user.py", line 51, in login_for_access_token
    user = authenticate_user(form_data.username, form_data.password, db=db)
           │                 │         │         │         │            └ <utils.db.DB object at 0x7f87d008af50>
           │                 │         │         │         └ '123456'
           │                 │         │         └ <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f87d008af10>
           │                 │         └ 'X2590'
           │                 └ <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f87d008af10>
           └ <function authenticate_user at 0x7f87d0a45b00>

> File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/cruds/user.py", line 63, in authenticate_user
    user = get_user_secret(username, db=db)
           │               │            └ <utils.db.DB object at 0x7f87d008af50>
           │               └ 'X2590'
           └ <function get_user_secret at 0x7f87d0a45a70>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/cruds/user.py", line 57, in get_user_secret
    user_dict = db.session.query(User.username == username).one()
                │  │       │     │    │           └ 'X2590'
                │  │       │     │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f87d0a30d70>
                │  │       │     └ <class 'model.models.User'>
                │  │       └ <function Session.query at 0x7f87d2904e60>
                │  └ <sqlalchemy.orm.session.Session object at 0x7f87d00470d0>
                └ <utils.db.DB object at 0x7f87d008af50>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 2796, in one
    return self._iter().one()
           │    └ <function Query._iter at 0x7f87d2920d40>
           └ <sqlalchemy.orm.query.Query object at 0x7f87d0047190>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/sqlalchemy/engine/result.py", line 1149, in one
    raise_for_second_row=True, raise_for_none=True, scalar=False
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/sqlalchemy/engine/result.py", line 616, in _only_one_row
    else "Multiple rows were found when one or none "

sqlalchemy.exc.MultipleResultsFound: Multiple rows were found when exactly one was required
2021-09-28 16:20:12 | INFO | h11_impl send:467 - 127.0.0.1:56962 - "POST /token HTTP/1.1" 500
2021-09-28 16:20:12 | ERROR | contextlib __exit__:130 - An error has been caught in function '__exit__', process 'MainProcess' (1634953), thread 'ThreadPoolExecutor-0_0' (140221211469568):
Traceback (most recent call last):

  File "/usr/local/lib/python3.7/threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x7f87d3cb3b90>
    └ <Thread(ThreadPoolExecutor-0_0, started daemon 140221211469568)>
  File "/usr/local/lib/python3.7/threading.py", line 926, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x7f87d3cb3950>
    └ <Thread(ThreadPoolExecutor-0_0, started daemon 140221211469568)>
  File "/usr/local/lib/python3.7/threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ThreadPoolExecutor-0_0, started daemon 140221211469568)>
    │    │        │    └ (<weakref at 0x7f87d0037f50; to 'ThreadPoolExecutor' at 0x7f87d008a3d0>, <_queue.SimpleQueue object at 0x7f87d00896b0>, None,...
    │    │        └ <Thread(ThreadPoolExecutor-0_0, started daemon 140221211469568)>
    │    └ <function _worker at 0x7f87d0041200>
    └ <Thread(ThreadPoolExecutor-0_0, started daemon 140221211469568)>
  File "/usr/local/lib/python3.7/concurrent/futures/thread.py", line 80, in _worker
    work_item.run()
    │         └ <function _WorkItem.run at 0x7f87d0041320>
    └ <concurrent.futures.thread._WorkItem object at 0x7f87d008a950>
  File "/usr/local/lib/python3.7/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
             │    │   │    │       │    └ {}
             │    │   │    │       └ <concurrent.futures.thread._WorkItem object at 0x7f87d008a950>
             │    │   │    └ [functools.partial(<bound method _GeneratorContextManager.__exit__ of <contextlib._GeneratorContextManager object at 0x7f87d0...
             │    │   └ <concurrent.futures.thread._WorkItem object at 0x7f87d008a950>
             │    └ <built-in method run of Context object at 0x7f87d007f8c0>
             └ <concurrent.futures.thread._WorkItem object at 0x7f87d008a950>
> File "/usr/local/lib/python3.7/contextlib.py", line 130, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ None
    │    │   │     │     └ MultipleResultsFound('Multiple rows were found when exactly one was required')
    │    │   │     └ <class 'sqlalchemy.exc.MultipleResultsFound'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object get_db at 0x7f87d0103ad0>
    └ <contextlib._GeneratorContextManager object at 0x7f87d008afd0>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/base.py", line 37, in get_db
    yield db
          └ <utils.db.DB object at 0x7f87d008af50>

sqlalchemy.exc.MultipleResultsFound: Multiple rows were found when exactly one was required
2021-09-28 16:20:12 | ERROR | h11_impl run_asgi:399 - Exception in ASGI application

Traceback (most recent call last):

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 110, in <module>
    m.run_server()
    │ └ <function Manager.run_server at 0x7f87d0a03680>
    └ <__main__.Manager object at 0x7f87d0a041d0>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 105, in run_server
    server.run()
    │      └ <function Server.run at 0x7f87d33cc560>
    └ <uvicorn.server.Server object at 0x7f87d351c150>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/server.py", line 49, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x7f87d33cc5f0>
    │    │                  └ <uvicorn.server.Server object at 0x7f87d351c150>
    │    └ <function BaseEventLoop.run_until_complete at 0x7f87d3650a70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 574, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f87d36509e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 541, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f87d36524d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 1786, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f87d36a7b90>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f87ca6c4fd0>(<Future finished result=False>)>
  File "/usr/local/lib/python3.7/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x7f87ca6c4fd0>(<Future finished result=False>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x7f87ca6c4fd0>(<Future finished result=False>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f87ca6c4fd0>(<Future finished result=False>)>
> File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f87d008ba70>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f87d0093fd0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f87d008bb00>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f87d0093fd0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f87d0093fd0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f87d012c710>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f87d0093fd0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f87d0093fd0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f87d27cab10>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f87d012c710>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f87d0093fd0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f87d0093fd0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f87d0093fd0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f87d0093fd0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f87d09e9590>
          └ <fastapi.applications.FastAPI object at 0x7f87d27cab10>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f87d0096b90>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f87d0093fd0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f87d09e9510>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f87d09e9590>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:5000', 'connection': 'keep-alive', 'content-length': '75', 'sec-ch-ua': '"Chromium";v="92", " Not...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f87d0096b90>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f87d0093fd0>>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x7f87d1db6c20>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f87d09e9510>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f87d09e9510>>, ...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f87d0093fd0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f87d09e94d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f87d09e9510>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f87d0096dd0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f87d0093fd0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f87d27c2850>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f87d09e94d0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f87d0096dd0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f87d0093fd0>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x7f87d1de88c0>
          └ <fastapi.routing.APIRoute object at 0x7f87d0a31d90>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f87d0096dd0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f87d0093fd0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f87d09eb4d0>
          └ <fastapi.routing.APIRoute object at 0x7f87d0a31d90>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f87d0093c50>
                     └ <function get_request_handler.<locals>.app at 0x7f87d09eb560>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
              │                 │                    └ True
              │                 └ {'form_data': <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f87d008af10>, 'db': <utils.db.DB object at 0x7f...
              └ <fastapi.dependencies.models.Dependant object at 0x7f87d09e04d0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'form_data': <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f87d008af10>, 'db': <utils.db.DB object at 0x7f...
                 │         └ <function login_for_access_token at 0x7f87d0a45c20>
                 └ <fastapi.dependencies.models.Dependant object at 0x7f87d09e04d0>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/routers/user.py", line 51, in login_for_access_token
    user = authenticate_user(form_data.username, form_data.password, db=db)
           │                 │         │         │         │            └ <utils.db.DB object at 0x7f87d008af50>
           │                 │         │         │         └ '123456'
           │                 │         │         └ <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f87d008af10>
           │                 │         └ 'X2590'
           │                 └ <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f87d008af10>
           └ <function authenticate_user at 0x7f87d0a45b00>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/cruds/user.py", line 63, in authenticate_user
    user = get_user_secret(username, db=db)
           │               │            └ <utils.db.DB object at 0x7f87d008af50>
           │               └ 'X2590'
           └ <function get_user_secret at 0x7f87d0a45a70>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/cruds/user.py", line 57, in get_user_secret
    user_dict = db.session.query(User.username == username).one()
                │  │       │     │    │           └ 'X2590'
                │  │       │     │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f87d0a30d70>
                │  │       │     └ <class 'model.models.User'>
                │  │       └ <function Session.query at 0x7f87d2904e60>
                │  └ <sqlalchemy.orm.session.Session object at 0x7f87d00470d0>
                └ <utils.db.DB object at 0x7f87d008af50>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 2796, in one
    return self._iter().one()
           │    └ <function Query._iter at 0x7f87d2920d40>
           └ <sqlalchemy.orm.query.Query object at 0x7f87d0047190>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/sqlalchemy/engine/result.py", line 1149, in one
    raise_for_second_row=True, raise_for_none=True, scalar=False
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/sqlalchemy/engine/result.py", line 616, in _only_one_row
    else "Multiple rows were found when one or none "

sqlalchemy.exc.MultipleResultsFound: Multiple rows were found when exactly one was required
2021-09-28 16:20:59 | INFO | server shutdown:239 - Shutting down
2021-09-28 16:20:59 | INFO | on shutdown:43 - Waiting for application shutdown.
2021-09-28 16:20:59 | INFO | on shutdown:46 - Application shutdown complete.
2021-09-28 16:20:59 | INFO | server serve:77 - Finished server process [1634953]
2021-09-28 16:21:00 | INFO | manager __load_role_map__:69 - 共计3个角色配置
2021-09-28 16:21:01 | INFO | server serve:64 - Started server process [1635189]
2021-09-28 16:21:01 | INFO | on startup:26 - Waiting for application startup.
2021-09-28 16:21:01 | INFO | on startup:38 - Application startup complete.
2021-09-28 16:21:01 | INFO | server _log_started_message:204 - Uvicorn running on http://0.0.0.0:5000 (Press CTRL+C to quit)
2021-09-28 16:21:03 | ERROR | user authenticate_user:63 - An error has been caught in function 'authenticate_user', process 'MainProcess' (1635189), thread 'MainThread' (140480237519232):
Traceback (most recent call last):

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 110, in <module>
    m.run_server()
    │ └ <function Manager.run_server at 0x7fc4166fb680>
    └ <__main__.Manager object at 0x7fc4166f93d0>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 105, in run_server
    server.run()
    │      └ <function Server.run at 0x7fc4190c3560>
    └ <uvicorn.server.Server object at 0x7fc419213110>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/server.py", line 49, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x7fc4190c35f0>
    │    │                  └ <uvicorn.server.Server object at 0x7fc419213110>
    │    └ <function BaseEventLoop.run_until_complete at 0x7fc419347a70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 574, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fc4193479e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 541, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fc4193494d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 1786, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fc41939eb90>
    └ <Handle <TaskWakeupMethWrapper object at 0x7fc415571c50>(<Future finis...7fc415577590>>)>
  File "/usr/local/lib/python3.7/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x7fc415571c50>(<Future finis...7fc415577590>>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x7fc415571c50>(<Future finis...7fc415577590>>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x7fc415571c50>(<Future finis...7fc415577590>>)>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7fc415572a70>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fc41560a950>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7fc415572b00>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fc41560a950>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fc41560a950>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fc415622810>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fc41560a950>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fc41560a950>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7fc4184c1c90>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fc415622810>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fc41560a950>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fc41560a950>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fc41560a950>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fc41560a950>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fc4166dd790>
          └ <fastapi.applications.FastAPI object at 0x7fc4184c1c90>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fc415581b00>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fc41560a950>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc4166dd710>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fc4166dd790>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:5000', 'connection': 'keep-alive', 'content-length': '75', 'sec-ch-ua': '"Chromium";v="92", " Not...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fc415581b00>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fc41560a950>>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x7fc417aaec20>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc4166dd710>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7fc4166dd710>>, ...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fc41560a950>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fc4166dd6d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc4166dd710>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fc415581d40>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fc41560a950>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7fc4184b99d0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fc4166dd6d0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fc415581d40>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fc41560a950>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x7fc417ae28c0>
          └ <fastapi.routing.APIRoute object at 0x7fc4166ca050>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fc415581d40>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fc41560a950>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x7fc4166e04d0>
          └ <fastapi.routing.APIRoute object at 0x7fc4166ca050>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7fc41557c410>
                     └ <function get_request_handler.<locals>.app at 0x7fc4166e0560>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
              │                 │                    └ True
              │                 └ {'form_data': <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7fc415577410>, 'db': <utils.db.DB object at 0x7f...
              └ <fastapi.dependencies.models.Dependant object at 0x7fc4166d6710>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'form_data': <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7fc415577410>, 'db': <utils.db.DB object at 0x7f...
                 │         └ <function login_for_access_token at 0x7fc41673bc20>
                 └ <fastapi.dependencies.models.Dependant object at 0x7fc4166d6710>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/routers/user.py", line 51, in login_for_access_token
    user = authenticate_user(form_data.username, form_data.password, db=db)
           │                 │         │         │         │            └ <utils.db.DB object at 0x7fc415577590>
           │                 │         │         │         └ '123456'
           │                 │         │         └ <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7fc415577410>
           │                 │         └ 'X2590'
           │                 └ <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7fc415577410>
           └ <function authenticate_user at 0x7fc41673bb00>

> File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/cruds/user.py", line 63, in authenticate_user
    user = get_user_secret(username, db=db)
           │               │            └ <utils.db.DB object at 0x7fc415577590>
           │               └ 'X2590'
           └ <function get_user_secret at 0x7fc41673ba70>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/cruds/user.py", line 59, in get_user_secret
    return UserSecret(**user_dict)
           │            └ [(True,), (False,), (False,)]
           └ <class 'api.schemas.user.UserSecret'>

TypeError: ModelMetaclass object argument after ** must be a mapping, not list
2021-09-28 16:21:03 | INFO | h11_impl send:467 - 127.0.0.1:56982 - "POST /token HTTP/1.1" 500
2021-09-28 16:21:03 | ERROR | contextlib __exit__:130 - An error has been caught in function '__exit__', process 'MainProcess' (1635189), thread 'ThreadPoolExecutor-0_2' (140479924532992):
Traceback (most recent call last):

  File "/usr/local/lib/python3.7/threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x7fc4199aab90>
    └ <Thread(ThreadPoolExecutor-0_2, started daemon 140479924532992)>
  File "/usr/local/lib/python3.7/threading.py", line 926, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x7fc4199aa950>
    └ <Thread(ThreadPoolExecutor-0_2, started daemon 140479924532992)>
  File "/usr/local/lib/python3.7/threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ThreadPoolExecutor-0_2, started daemon 140479924532992)>
    │    │        │    └ (<weakref at 0x7fc414521890; to 'ThreadPoolExecutor' at 0x7fc418e49d50>, <_queue.SimpleQueue object at 0x7fc41558e230>, None,...
    │    │        └ <Thread(ThreadPoolExecutor-0_2, started daemon 140479924532992)>
    │    └ <function _worker at 0x7fc415589cb0>
    └ <Thread(ThreadPoolExecutor-0_2, started daemon 140479924532992)>
  File "/usr/local/lib/python3.7/concurrent/futures/thread.py", line 80, in _worker
    work_item.run()
    │         └ <function _WorkItem.run at 0x7fc415589dd0>
    └ <concurrent.futures.thread._WorkItem object at 0x7fc41451bb50>
  File "/usr/local/lib/python3.7/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
             │    │   │    │       │    └ {}
             │    │   │    │       └ <concurrent.futures.thread._WorkItem object at 0x7fc41451bb50>
             │    │   │    └ [functools.partial(<bound method _GeneratorContextManager.__exit__ of <contextlib._GeneratorContextManager object at 0x7fc415...
             │    │   └ <concurrent.futures.thread._WorkItem object at 0x7fc41451bb50>
             │    └ <built-in method run of Context object at 0x7fc41558d370>
             └ <concurrent.futures.thread._WorkItem object at 0x7fc41451bb50>
> File "/usr/local/lib/python3.7/contextlib.py", line 130, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ None
    │    │   │     │     └ TypeError('ModelMetaclass object argument after ** must be a mapping, not list')
    │    │   │     └ <class 'TypeError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object get_db at 0x7fc4155f9dd0>
    └ <contextlib._GeneratorContextManager object at 0x7fc41557cd10>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/base.py", line 37, in get_db
    yield db
          └ <utils.db.DB object at 0x7fc415577590>

TypeError: ModelMetaclass object argument after ** must be a mapping, not list
2021-09-28 16:21:03 | ERROR | h11_impl run_asgi:399 - Exception in ASGI application

Traceback (most recent call last):

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 110, in <module>
    m.run_server()
    │ └ <function Manager.run_server at 0x7fc4166fb680>
    └ <__main__.Manager object at 0x7fc4166f93d0>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 105, in run_server
    server.run()
    │      └ <function Server.run at 0x7fc4190c3560>
    └ <uvicorn.server.Server object at 0x7fc419213110>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/server.py", line 49, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x7fc4190c35f0>
    │    │                  └ <uvicorn.server.Server object at 0x7fc419213110>
    │    └ <function BaseEventLoop.run_until_complete at 0x7fc419347a70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 574, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fc4193479e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 541, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fc4193494d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 1786, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fc41939eb90>
    └ <Handle <TaskWakeupMethWrapper object at 0x7fc41557c910>(<Future finished result=False>)>
  File "/usr/local/lib/python3.7/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x7fc41557c910>(<Future finished result=False>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x7fc41557c910>(<Future finished result=False>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x7fc41557c910>(<Future finished result=False>)>
> File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7fc415572a70>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fc41560a950>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7fc415572b00>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fc41560a950>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fc41560a950>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fc415622810>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fc41560a950>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fc41560a950>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7fc4184c1c90>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fc415622810>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fc41560a950>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fc41560a950>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fc41560a950>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fc41560a950>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fc4166dd790>
          └ <fastapi.applications.FastAPI object at 0x7fc4184c1c90>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fc415581b00>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fc41560a950>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc4166dd710>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fc4166dd790>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:5000', 'connection': 'keep-alive', 'content-length': '75', 'sec-ch-ua': '"Chromium";v="92", " Not...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fc415581b00>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fc41560a950>>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x7fc417aaec20>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc4166dd710>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7fc4166dd710>>, ...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fc41560a950>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fc4166dd6d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc4166dd710>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fc415581d40>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fc41560a950>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7fc4184b99d0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fc4166dd6d0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fc415581d40>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fc41560a950>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x7fc417ae28c0>
          └ <fastapi.routing.APIRoute object at 0x7fc4166ca050>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7fc415581d40>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7fc41560a950>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x7fc4166e04d0>
          └ <fastapi.routing.APIRoute object at 0x7fc4166ca050>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7fc41557c410>
                     └ <function get_request_handler.<locals>.app at 0x7fc4166e0560>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
              │                 │                    └ True
              │                 └ {'form_data': <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7fc415577410>, 'db': <utils.db.DB object at 0x7f...
              └ <fastapi.dependencies.models.Dependant object at 0x7fc4166d6710>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'form_data': <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7fc415577410>, 'db': <utils.db.DB object at 0x7f...
                 │         └ <function login_for_access_token at 0x7fc41673bc20>
                 └ <fastapi.dependencies.models.Dependant object at 0x7fc4166d6710>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/routers/user.py", line 51, in login_for_access_token
    user = authenticate_user(form_data.username, form_data.password, db=db)
           │                 │         │         │         │            └ <utils.db.DB object at 0x7fc415577590>
           │                 │         │         │         └ '123456'
           │                 │         │         └ <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7fc415577410>
           │                 │         └ 'X2590'
           │                 └ <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7fc415577410>
           └ <function authenticate_user at 0x7fc41673bb00>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/cruds/user.py", line 63, in authenticate_user
    user = get_user_secret(username, db=db)
           │               │            └ <utils.db.DB object at 0x7fc415577590>
           │               └ 'X2590'
           └ <function get_user_secret at 0x7fc41673ba70>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/cruds/user.py", line 59, in get_user_secret
    return UserSecret(**user_dict)
           │            └ [(True,), (False,), (False,)]
           └ <class 'api.schemas.user.UserSecret'>

TypeError: ModelMetaclass object argument after ** must be a mapping, not list
2021-09-28 16:21:43 | INFO | server shutdown:239 - Shutting down
2021-09-28 16:21:43 | INFO | on shutdown:43 - Waiting for application shutdown.
2021-09-28 16:21:43 | INFO | on shutdown:46 - Application shutdown complete.
2021-09-28 16:21:43 | INFO | server serve:77 - Finished server process [1635189]
2021-09-28 16:21:43 | INFO | manager __load_role_map__:69 - 共计3个角色配置
2021-09-28 16:21:44 | INFO | server serve:64 - Started server process [1635293]
2021-09-28 16:21:44 | INFO | on startup:26 - Waiting for application startup.
2021-09-28 16:21:44 | INFO | on startup:38 - Application startup complete.
2021-09-28 16:21:44 | INFO | server _log_started_message:204 - Uvicorn running on http://0.0.0.0:5000 (Press CTRL+C to quit)
2021-09-28 16:21:46 | ERROR | user authenticate_user:63 - An error has been caught in function 'authenticate_user', process 'MainProcess' (1635293), thread 'MainThread' (140183814443392):
Traceback (most recent call last):

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 110, in <module>
    m.run_server()
    │ └ <function Manager.run_server at 0x7f7f123e8680>
    └ <__main__.Manager object at 0x7f7f123e6310>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 105, in run_server
    server.run()
    │      └ <function Server.run at 0x7f7f14db0560>
    └ <uvicorn.server.Server object at 0x7f7f14e5cfd0>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/server.py", line 49, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x7f7f14db05f0>
    │    │                  └ <uvicorn.server.Server object at 0x7f7f14e5cfd0>
    │    └ <function BaseEventLoop.run_until_complete at 0x7f7f15034a70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 574, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f7f150349e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 541, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f7f150364d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 1786, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f7f1508bb90>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f7f12670b50>(<Future finis...7f7f11266350>>)>
  File "/usr/local/lib/python3.7/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x7f7f12670b50>(<Future finis...7f7f11266350>>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x7f7f12670b50>(<Future finis...7f7f11266350>>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f7f12670b50>(<Future finis...7f7f11266350>>)>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f7f1125ca70>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f7f1126ce90>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f7f1125cb00>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f7f1126ce90>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f7f1126ce90>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f7f112d9350>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f7f1126ce90>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f7f1126ce90>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f7f141aeb90>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f7f112d9350>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f7f1126ce90>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f7f1126ce90>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f7f1126ce90>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f7f1126ce90>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f7f123cc6d0>
          └ <fastapi.applications.FastAPI object at 0x7f7f141aeb90>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f7f1125fb00>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f7f1126ce90>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f7f123cc650>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f7f123cc6d0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:5000', 'connection': 'keep-alive', 'content-length': '75', 'sec-ch-ua': '"Chromium";v="92", " Not...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f7f1125fb00>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f7f1126ce90>>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x7f7f1379ac20>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f7f123cc650>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f7f123cc650>>, ...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f7f1126ce90>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f7f123cc610>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f7f123cc650>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f7f1125fd40>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f7f1126ce90>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f7f141a68d0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f7f123cc610>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f7f1125fd40>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f7f1126ce90>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x7f7f137cd8c0>
          └ <fastapi.routing.APIRoute object at 0x7f7f12415e10>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f7f1125fd40>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f7f1126ce90>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f7f123cf4d0>
          └ <fastapi.routing.APIRoute object at 0x7f7f12415e10>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f7f11276590>
                     └ <function get_request_handler.<locals>.app at 0x7f7f123cf560>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
              │                 │                    └ True
              │                 └ {'form_data': <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f7f112662d0>, 'db': <utils.db.DB object at 0x7f...
              └ <fastapi.dependencies.models.Dependant object at 0x7f7f123cc590>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'form_data': <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f7f112662d0>, 'db': <utils.db.DB object at 0x7f...
                 │         └ <function login_for_access_token at 0x7f7f12428c20>
                 └ <fastapi.dependencies.models.Dependant object at 0x7f7f123cc590>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/routers/user.py", line 51, in login_for_access_token
    user = authenticate_user(form_data.username, form_data.password, db=db)
           │                 │         │         │         │            └ <utils.db.DB object at 0x7f7f11266350>
           │                 │         │         │         └ '123456'
           │                 │         │         └ <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f7f112662d0>
           │                 │         └ 'X2590'
           │                 └ <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f7f112662d0>
           └ <function authenticate_user at 0x7f7f12428b00>

> File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/cruds/user.py", line 63, in authenticate_user
    user = get_user_secret(username, db=db)
           │               │            └ <utils.db.DB object at 0x7f7f11266350>
           │               └ 'X2590'
           └ <function get_user_secret at 0x7f7f12428a70>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/cruds/user.py", line 56, in get_user_secret
    user_dict = db.session.query(User).filter_by(User.username == username).one()
                │  │       │     │               │    │           └ 'X2590'
                │  │       │     │               │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f7f12417d70>
                │  │       │     │               └ <class 'model.models.User'>
                │  │       │     └ <class 'model.models.User'>
                │  │       └ <function Session.query at 0x7f7f142e8e60>
                │  └ <sqlalchemy.orm.session.Session object at 0x7f7f112664d0>
                └ <utils.db.DB object at 0x7f7f11266350>

TypeError: filter_by() takes 1 positional argument but 2 were given
2021-09-28 16:21:46 | INFO | h11_impl send:467 - 127.0.0.1:56992 - "POST /token HTTP/1.1" 500
2021-09-28 16:21:46 | ERROR | contextlib __exit__:130 - An error has been caught in function '__exit__', process 'MainProcess' (1635293), thread 'ThreadPoolExecutor-0_0' (140183725164288):
Traceback (most recent call last):

  File "/usr/local/lib/python3.7/threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x7f7f15697b90>
    └ <Thread(ThreadPoolExecutor-0_0, started daemon 140183725164288)>
  File "/usr/local/lib/python3.7/threading.py", line 926, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x7f7f15697950>
    └ <Thread(ThreadPoolExecutor-0_0, started daemon 140183725164288)>
  File "/usr/local/lib/python3.7/threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ThreadPoolExecutor-0_0, started daemon 140183725164288)>
    │    │        │    └ (<weakref at 0x7f7f11272470; to 'ThreadPoolExecutor' at 0x7f7f11276a90>, <_queue.SimpleQueue object at 0x7f7f11272bf0>, None,...
    │    │        └ <Thread(ThreadPoolExecutor-0_0, started daemon 140183725164288)>
    │    └ <function _worker at 0x7f7f11273cb0>
    └ <Thread(ThreadPoolExecutor-0_0, started daemon 140183725164288)>
  File "/usr/local/lib/python3.7/concurrent/futures/thread.py", line 80, in _worker
    work_item.run()
    │         └ <function _WorkItem.run at 0x7f7f11273dd0>
    └ <concurrent.futures.thread._WorkItem object at 0x7f7f11266d50>
  File "/usr/local/lib/python3.7/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
             │    │   │    │       │    └ {}
             │    │   │    │       └ <concurrent.futures.thread._WorkItem object at 0x7f7f11266d50>
             │    │   │    └ [functools.partial(<bound method _GeneratorContextManager.__exit__ of <contextlib._GeneratorContextManager object at 0x7f7f11...
             │    │   └ <concurrent.futures.thread._WorkItem object at 0x7f7f11266d50>
             │    └ <built-in method run of Context object at 0x7f7f1126d460>
             └ <concurrent.futures.thread._WorkItem object at 0x7f7f11266d50>
> File "/usr/local/lib/python3.7/contextlib.py", line 130, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ None
    │    │   │     │     └ TypeError('filter_by() takes 1 positional argument but 2 were given')
    │    │   │     └ <class 'TypeError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object get_db at 0x7f7f112e5e50>
    └ <contextlib._GeneratorContextManager object at 0x7f7f11276b90>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/base.py", line 37, in get_db
    yield db
          └ <utils.db.DB object at 0x7f7f11266350>

TypeError: filter_by() takes 1 positional argument but 2 were given
2021-09-28 16:21:46 | ERROR | h11_impl run_asgi:399 - Exception in ASGI application

Traceback (most recent call last):

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 110, in <module>
    m.run_server()
    │ └ <function Manager.run_server at 0x7f7f123e8680>
    └ <__main__.Manager object at 0x7f7f123e6310>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 105, in run_server
    server.run()
    │      └ <function Server.run at 0x7f7f14db0560>
    └ <uvicorn.server.Server object at 0x7f7f14e5cfd0>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/server.py", line 49, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x7f7f14db05f0>
    │    │                  └ <uvicorn.server.Server object at 0x7f7f14e5cfd0>
    │    └ <function BaseEventLoop.run_until_complete at 0x7f7f15034a70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 574, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f7f150349e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 541, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f7f150364d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 1786, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f7f1508bb90>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f7f11266f50>(<Future finished result=False>)>
  File "/usr/local/lib/python3.7/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x7f7f11266f50>(<Future finished result=False>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x7f7f11266f50>(<Future finished result=False>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f7f11266f50>(<Future finished result=False>)>
> File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f7f1125ca70>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f7f1126ce90>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f7f1125cb00>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f7f1126ce90>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f7f1126ce90>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f7f112d9350>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f7f1126ce90>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f7f1126ce90>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f7f141aeb90>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f7f112d9350>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f7f1126ce90>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f7f1126ce90>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f7f1126ce90>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f7f1126ce90>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f7f123cc6d0>
          └ <fastapi.applications.FastAPI object at 0x7f7f141aeb90>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f7f1125fb00>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f7f1126ce90>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f7f123cc650>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f7f123cc6d0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:5000', 'connection': 'keep-alive', 'content-length': '75', 'sec-ch-ua': '"Chromium";v="92", " Not...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f7f1125fb00>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f7f1126ce90>>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x7f7f1379ac20>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f7f123cc650>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f7f123cc650>>, ...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f7f1126ce90>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f7f123cc610>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f7f123cc650>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f7f1125fd40>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f7f1126ce90>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f7f141a68d0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f7f123cc610>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f7f1125fd40>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f7f1126ce90>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x7f7f137cd8c0>
          └ <fastapi.routing.APIRoute object at 0x7f7f12415e10>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f7f1125fd40>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f7f1126ce90>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f7f123cf4d0>
          └ <fastapi.routing.APIRoute object at 0x7f7f12415e10>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f7f11276590>
                     └ <function get_request_handler.<locals>.app at 0x7f7f123cf560>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
              │                 │                    └ True
              │                 └ {'form_data': <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f7f112662d0>, 'db': <utils.db.DB object at 0x7f...
              └ <fastapi.dependencies.models.Dependant object at 0x7f7f123cc590>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'form_data': <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f7f112662d0>, 'db': <utils.db.DB object at 0x7f...
                 │         └ <function login_for_access_token at 0x7f7f12428c20>
                 └ <fastapi.dependencies.models.Dependant object at 0x7f7f123cc590>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/routers/user.py", line 51, in login_for_access_token
    user = authenticate_user(form_data.username, form_data.password, db=db)
           │                 │         │         │         │            └ <utils.db.DB object at 0x7f7f11266350>
           │                 │         │         │         └ '123456'
           │                 │         │         └ <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f7f112662d0>
           │                 │         └ 'X2590'
           │                 └ <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f7f112662d0>
           └ <function authenticate_user at 0x7f7f12428b00>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/cruds/user.py", line 63, in authenticate_user
    user = get_user_secret(username, db=db)
           │               │            └ <utils.db.DB object at 0x7f7f11266350>
           │               └ 'X2590'
           └ <function get_user_secret at 0x7f7f12428a70>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/cruds/user.py", line 56, in get_user_secret
    user_dict = db.session.query(User).filter_by(User.username == username).one()
                │  │       │     │               │    │           └ 'X2590'
                │  │       │     │               │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f7f12417d70>
                │  │       │     │               └ <class 'model.models.User'>
                │  │       │     └ <class 'model.models.User'>
                │  │       └ <function Session.query at 0x7f7f142e8e60>
                │  └ <sqlalchemy.orm.session.Session object at 0x7f7f112664d0>
                └ <utils.db.DB object at 0x7f7f11266350>

TypeError: filter_by() takes 1 positional argument but 2 were given
2021-09-28 16:21:55 | INFO | server shutdown:239 - Shutting down
2021-09-28 16:21:55 | INFO | on shutdown:43 - Waiting for application shutdown.
2021-09-28 16:21:55 | INFO | on shutdown:46 - Application shutdown complete.
2021-09-28 16:21:55 | INFO | server serve:77 - Finished server process [1635293]
2021-09-28 16:21:56 | INFO | manager __load_role_map__:69 - 共计3个角色配置
2021-09-28 16:21:56 | INFO | server serve:64 - Started server process [1635334]
2021-09-28 16:21:56 | INFO | on startup:26 - Waiting for application startup.
2021-09-28 16:21:56 | INFO | on startup:38 - Application startup complete.
2021-09-28 16:21:56 | INFO | server _log_started_message:204 - Uvicorn running on http://0.0.0.0:5000 (Press CTRL+C to quit)
2021-09-28 16:21:57 | ERROR | user authenticate_user:63 - An error has been caught in function 'authenticate_user', process 'MainProcess' (1635334), thread 'MainThread' (140679752216960):
Traceback (most recent call last):

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 110, in <module>
    m.run_server()
    │ └ <function Manager.run_server at 0x7ff28a706680>
    └ <__main__.Manager object at 0x7ff28a7042d0>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 105, in run_server
    server.run()
    │      └ <function Server.run at 0x7ff28d0ce560>
    └ <uvicorn.server.Server object at 0x7ff28d21e0d0>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/server.py", line 49, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x7ff28d0ce5f0>
    │    │                  └ <uvicorn.server.Server object at 0x7ff28d21e0d0>
    │    └ <function BaseEventLoop.run_until_complete at 0x7ff28d352a70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 574, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7ff28d3529e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 541, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7ff28d3544d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 1786, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7ff28d3a9b90>
    └ <Handle <TaskWakeupMethWrapper object at 0x7ff289651f10>(<Future finis...7ff289581590>>)>
  File "/usr/local/lib/python3.7/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x7ff289651f10>(<Future finis...7ff289581590>>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x7ff289651f10>(<Future finis...7ff289581590>>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x7ff289651f10>(<Future finis...7ff289581590>>)>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7ff28958da70>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7ff289599710>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7ff28958db00>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7ff289599710>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7ff289599710>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7ff28962c350>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7ff289599710>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7ff289599710>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7ff28c4cccd0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7ff28962c350>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7ff289599710>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7ff289599710>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7ff289599710>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7ff289599710>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7ff28a6ea6d0>
          └ <fastapi.applications.FastAPI object at 0x7ff28c4cccd0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7ff28957bb00>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7ff289599710>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7ff28a6ea650>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7ff28a6ea6d0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:5000', 'connection': 'keep-alive', 'content-length': '75', 'sec-ch-ua': '"Chromium";v="92", " Not...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7ff28957bb00>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7ff289599710>>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x7ff28bab8c20>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7ff28a6ea650>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7ff28a6ea650>>, ...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7ff289599710>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7ff28a6ea610>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7ff28a6ea650>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7ff28957bd40>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7ff289599710>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7ff28c4c4a10>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7ff28a6ea610>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7ff28957bd40>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7ff289599710>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x7ff28baeb8c0>
          └ <fastapi.routing.APIRoute object at 0x7ff28a733f10>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7ff28957bd40>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7ff289599710>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x7ff28a6ec4d0>
          └ <fastapi.routing.APIRoute object at 0x7ff28a733f10>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7ff2895953d0>
                     └ <function get_request_handler.<locals>.app at 0x7ff28a6ec560>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
              │                 │                    └ True
              │                 └ {'form_data': <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7ff289581410>, 'db': <utils.db.DB object at 0x7f...
              └ <fastapi.dependencies.models.Dependant object at 0x7ff28a6e1610>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'form_data': <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7ff289581410>, 'db': <utils.db.DB object at 0x7f...
                 │         └ <function login_for_access_token at 0x7ff28a746c20>
                 └ <fastapi.dependencies.models.Dependant object at 0x7ff28a6e1610>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/routers/user.py", line 51, in login_for_access_token
    user = authenticate_user(form_data.username, form_data.password, db=db)
           │                 │         │         │         │            └ <utils.db.DB object at 0x7ff289581590>
           │                 │         │         │         └ '123456'
           │                 │         │         └ <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7ff289581410>
           │                 │         └ 'X2590'
           │                 └ <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7ff289581410>
           └ <function authenticate_user at 0x7ff28a746b00>

> File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/cruds/user.py", line 63, in authenticate_user
    user = get_user_secret(username, db=db)
           │               │            └ <utils.db.DB object at 0x7ff289581590>
           │               └ 'X2590'
           └ <function get_user_secret at 0x7ff28a746a70>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/cruds/user.py", line 59, in get_user_secret
    return UserSecret(**user_dict)
           │            └ <model.models.User object at 0x7ff288553a50>
           └ <class 'api.schemas.user.UserSecret'>

TypeError: ModelMetaclass object argument after ** must be a mapping, not User
2021-09-28 16:21:57 | INFO | h11_impl send:467 - 127.0.0.1:57000 - "POST /token HTTP/1.1" 500
2021-09-28 16:21:57 | ERROR | contextlib __exit__:130 - An error has been caught in function '__exit__', process 'MainProcess' (1635334), thread 'ThreadPoolExecutor-0_0' (140679662937856):
Traceback (most recent call last):

  File "/usr/local/lib/python3.7/threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x7ff28d9b5b90>
    └ <Thread(ThreadPoolExecutor-0_0, started daemon 140679662937856)>
  File "/usr/local/lib/python3.7/threading.py", line 926, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x7ff28d9b5950>
    └ <Thread(ThreadPoolExecutor-0_0, started daemon 140679662937856)>
  File "/usr/local/lib/python3.7/threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ThreadPoolExecutor-0_0, started daemon 140679662937856)>
    │    │        │    └ (<weakref at 0x7ff289587ad0; to 'ThreadPoolExecutor' at 0x7ff289599b10>, <_queue.SimpleQueue object at 0x7ff2895872f0>, None,...
    │    │        └ <Thread(ThreadPoolExecutor-0_0, started daemon 140679662937856)>
    │    └ <function _worker at 0x7ff28957ccb0>
    └ <Thread(ThreadPoolExecutor-0_0, started daemon 140679662937856)>
  File "/usr/local/lib/python3.7/concurrent/futures/thread.py", line 80, in _worker
    work_item.run()
    │         └ <function _WorkItem.run at 0x7ff28957cdd0>
    └ <concurrent.futures.thread._WorkItem object at 0x7ff288534690>
  File "/usr/local/lib/python3.7/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
             │    │   │    │       │    └ {}
             │    │   │    │       └ <concurrent.futures.thread._WorkItem object at 0x7ff288534690>
             │    │   │    └ [functools.partial(<bound method _GeneratorContextManager.__exit__ of <contextlib._GeneratorContextManager object at 0x7ff289...
             │    │   └ <concurrent.futures.thread._WorkItem object at 0x7ff288534690>
             │    └ <built-in method run of Context object at 0x7ff289594320>
             └ <concurrent.futures.thread._WorkItem object at 0x7ff288534690>
> File "/usr/local/lib/python3.7/contextlib.py", line 130, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ None
    │    │   │     │     └ TypeError('ModelMetaclass object argument after ** must be a mapping, not User')
    │    │   │     └ <class 'TypeError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object get_db at 0x7ff289603e50>
    └ <contextlib._GeneratorContextManager object at 0x7ff289595c50>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/base.py", line 37, in get_db
    yield db
          └ <utils.db.DB object at 0x7ff289581590>

TypeError: ModelMetaclass object argument after ** must be a mapping, not User
2021-09-28 16:21:57 | ERROR | h11_impl run_asgi:399 - Exception in ASGI application

Traceback (most recent call last):

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 110, in <module>
    m.run_server()
    │ └ <function Manager.run_server at 0x7ff28a706680>
    └ <__main__.Manager object at 0x7ff28a7042d0>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 105, in run_server
    server.run()
    │      └ <function Server.run at 0x7ff28d0ce560>
    └ <uvicorn.server.Server object at 0x7ff28d21e0d0>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/server.py", line 49, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x7ff28d0ce5f0>
    │    │                  └ <uvicorn.server.Server object at 0x7ff28d21e0d0>
    │    └ <function BaseEventLoop.run_until_complete at 0x7ff28d352a70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 574, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7ff28d3529e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 541, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7ff28d3544d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 1786, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7ff28d3a9b90>
    └ <Handle <TaskWakeupMethWrapper object at 0x7ff28a7047d0>(<Future finished result=False>)>
  File "/usr/local/lib/python3.7/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x7ff28a7047d0>(<Future finished result=False>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x7ff28a7047d0>(<Future finished result=False>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x7ff28a7047d0>(<Future finished result=False>)>
> File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7ff28958da70>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7ff289599710>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7ff28958db00>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7ff289599710>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7ff289599710>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7ff28962c350>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7ff289599710>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7ff289599710>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7ff28c4cccd0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7ff28962c350>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7ff289599710>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7ff289599710>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7ff289599710>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7ff289599710>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7ff28a6ea6d0>
          └ <fastapi.applications.FastAPI object at 0x7ff28c4cccd0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7ff28957bb00>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7ff289599710>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7ff28a6ea650>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7ff28a6ea6d0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:5000', 'connection': 'keep-alive', 'content-length': '75', 'sec-ch-ua': '"Chromium";v="92", " Not...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7ff28957bb00>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7ff289599710>>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x7ff28bab8c20>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7ff28a6ea650>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7ff28a6ea650>>, ...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7ff289599710>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7ff28a6ea610>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7ff28a6ea650>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7ff28957bd40>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7ff289599710>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7ff28c4c4a10>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7ff28a6ea610>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7ff28957bd40>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7ff289599710>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x7ff28baeb8c0>
          └ <fastapi.routing.APIRoute object at 0x7ff28a733f10>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7ff28957bd40>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7ff289599710>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x7ff28a6ec4d0>
          └ <fastapi.routing.APIRoute object at 0x7ff28a733f10>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7ff2895953d0>
                     └ <function get_request_handler.<locals>.app at 0x7ff28a6ec560>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
              │                 │                    └ True
              │                 └ {'form_data': <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7ff289581410>, 'db': <utils.db.DB object at 0x7f...
              └ <fastapi.dependencies.models.Dependant object at 0x7ff28a6e1610>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'form_data': <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7ff289581410>, 'db': <utils.db.DB object at 0x7f...
                 │         └ <function login_for_access_token at 0x7ff28a746c20>
                 └ <fastapi.dependencies.models.Dependant object at 0x7ff28a6e1610>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/routers/user.py", line 51, in login_for_access_token
    user = authenticate_user(form_data.username, form_data.password, db=db)
           │                 │         │         │         │            └ <utils.db.DB object at 0x7ff289581590>
           │                 │         │         │         └ '123456'
           │                 │         │         └ <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7ff289581410>
           │                 │         └ 'X2590'
           │                 └ <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7ff289581410>
           └ <function authenticate_user at 0x7ff28a746b00>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/cruds/user.py", line 63, in authenticate_user
    user = get_user_secret(username, db=db)
           │               │            └ <utils.db.DB object at 0x7ff289581590>
           │               └ 'X2590'
           └ <function get_user_secret at 0x7ff28a746a70>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/cruds/user.py", line 59, in get_user_secret
    return UserSecret(**user_dict)
           │            └ <model.models.User object at 0x7ff288553a50>
           └ <class 'api.schemas.user.UserSecret'>

TypeError: ModelMetaclass object argument after ** must be a mapping, not User
2021-09-28 16:22:17 | INFO | server shutdown:239 - Shutting down
2021-09-28 16:22:17 | INFO | on shutdown:43 - Waiting for application shutdown.
2021-09-28 16:22:17 | INFO | on shutdown:46 - Application shutdown complete.
2021-09-28 16:22:17 | INFO | server serve:77 - Finished server process [1635334]
2021-09-28 16:22:18 | INFO | manager __load_role_map__:69 - 共计3个角色配置
2021-09-28 16:22:19 | INFO | server serve:64 - Started server process [1635393]
2021-09-28 16:22:19 | INFO | on startup:26 - Waiting for application startup.
2021-09-28 16:22:19 | INFO | on startup:38 - Application startup complete.
2021-09-28 16:22:19 | INFO | server _log_started_message:204 - Uvicorn running on http://0.0.0.0:5000 (Press CTRL+C to quit)
2021-09-28 16:22:21 | ERROR | user authenticate_user:63 - An error has been caught in function 'authenticate_user', process 'MainProcess' (1635393), thread 'MainThread' (140269419946368):
Traceback (most recent call last):

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 110, in <module>
    m.run_server()
    │ └ <function Manager.run_server at 0x7f9300bad680>
    └ <__main__.Manager object at 0x7f9300bab2d0>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 105, in run_server
    server.run()
    │      └ <function Server.run at 0x7f9303575560>
    └ <uvicorn.server.Server object at 0x7f93036c50d0>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/server.py", line 49, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x7f93035755f0>
    │    │                  └ <uvicorn.server.Server object at 0x7f93036c50d0>
    │    └ <function BaseEventLoop.run_until_complete at 0x7f93037f9a70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 574, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f93037f99e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 541, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f93037fb4d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 1786, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f9303850b90>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f9300229c90>(<Future finis...7f9300229550>>)>
  File "/usr/local/lib/python3.7/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x7f9300229c90>(<Future finis...7f9300229550>>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x7f9300229c90>(<Future finis...7f9300229550>>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f9300229c90>(<Future finis...7f9300229550>>)>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f9300236a70>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f930023a9d0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f9300236b00>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f930023a9d0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f930023a9d0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f93002d5d90>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f930023a9d0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f930023a9d0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f9302973c10>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f93002d5d90>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f930023a9d0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f930023a9d0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f930023a9d0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f930023a9d0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f9300b8f6d0>
          └ <fastapi.applications.FastAPI object at 0x7f9302973c10>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f930020bb00>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f930023a9d0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f9300b8f650>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f9300b8f6d0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:5000', 'connection': 'keep-alive', 'content-length': '75', 'sec-ch-ua': '"Chromium";v="92", " Not...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f930020bb00>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f930023a9d0>>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x7f9301f5fc20>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f9300b8f650>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f9300b8f650>>, ...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f930023a9d0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f9300b8f610>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f9300b8f650>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f930020bd40>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f930023a9d0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f930296b950>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f9300b8f610>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f930020bd40>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f930023a9d0>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x7f9301f938c0>
          └ <fastapi.routing.APIRoute object at 0x7f9300bdbe50>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f930020bd40>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f930023a9d0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f9300b934d0>
          └ <fastapi.routing.APIRoute object at 0x7f9300bdbe50>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f930023a590>
                     └ <function get_request_handler.<locals>.app at 0x7f9300b93560>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
              │                 │                    └ True
              │                 └ {'form_data': <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f93002293d0>, 'db': <utils.db.DB object at 0x7f...
              └ <fastapi.dependencies.models.Dependant object at 0x7f9300b88610>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'form_data': <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f93002293d0>, 'db': <utils.db.DB object at 0x7f...
                 │         └ <function login_for_access_token at 0x7f9300bedc20>
                 └ <fastapi.dependencies.models.Dependant object at 0x7f9300b88610>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/routers/user.py", line 51, in login_for_access_token
    user = authenticate_user(form_data.username, form_data.password, db=db)
           │                 │         │         │         │            └ <utils.db.DB object at 0x7f9300229550>
           │                 │         │         │         └ '123456'
           │                 │         │         └ <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f93002293d0>
           │                 │         └ 'X2590'
           │                 └ <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f93002293d0>
           └ <function authenticate_user at 0x7f9300bedb00>

> File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/cruds/user.py", line 63, in authenticate_user
    user = get_user_secret(username, db=db)
           │               │            └ <utils.db.DB object at 0x7f9300229550>
           │               └ 'X2590'
           └ <function get_user_secret at 0x7f9300beda70>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/cruds/user.py", line 56, in get_user_secret
    user_dict = db.session.query(User).filter(User.username == username).one().dict()
                │  │       │     │            │    │           └ 'X2590'
                │  │       │     │            │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f9300bdcd70>
                │  │       │     │            └ <class 'model.models.User'>
                │  │       │     └ <class 'model.models.User'>
                │  │       └ <function Session.query at 0x7f9302aaee60>
                │  └ <sqlalchemy.orm.session.Session object at 0x7f9300229650>
                └ <utils.db.DB object at 0x7f9300229550>

AttributeError: 'User' object has no attribute 'dict'
2021-09-28 16:22:21 | INFO | h11_impl send:467 - 127.0.0.1:57010 - "POST /token HTTP/1.1" 500
2021-09-28 16:22:21 | ERROR | contextlib __exit__:130 - An error has been caught in function '__exit__', process 'MainProcess' (1635393), thread 'ThreadPoolExecutor-0_2' (140269244630784):
Traceback (most recent call last):

  File "/usr/local/lib/python3.7/threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x7f9303e5cb90>
    └ <Thread(ThreadPoolExecutor-0_2, started daemon 140269244630784)>
  File "/usr/local/lib/python3.7/threading.py", line 926, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x7f9303e5c950>
    └ <Thread(ThreadPoolExecutor-0_2, started daemon 140269244630784)>
  File "/usr/local/lib/python3.7/threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ThreadPoolExecutor-0_2, started daemon 140269244630784)>
    │    │        │    └ (<weakref at 0x7f93001f1a70; to 'ThreadPoolExecutor' at 0x7f930023ab90>, <_queue.SimpleQueue object at 0x7f9300231110>, None,...
    │    │        └ <Thread(ThreadPoolExecutor-0_2, started daemon 140269244630784)>
    │    └ <function _worker at 0x7f9300224cb0>
    └ <Thread(ThreadPoolExecutor-0_2, started daemon 140269244630784)>
  File "/usr/local/lib/python3.7/concurrent/futures/thread.py", line 80, in _worker
    work_item.run()
    │         └ <function _WorkItem.run at 0x7f9300224dd0>
    └ <concurrent.futures.thread._WorkItem object at 0x7f93001ecfd0>
  File "/usr/local/lib/python3.7/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
             │    │   │    │       │    └ {}
             │    │   │    │       └ <concurrent.futures.thread._WorkItem object at 0x7f93001ecfd0>
             │    │   │    └ [functools.partial(<bound method _GeneratorContextManager.__exit__ of <contextlib._GeneratorContextManager object at 0x7f9300...
             │    │   └ <concurrent.futures.thread._WorkItem object at 0x7f93001ecfd0>
             │    └ <built-in method run of Context object at 0x7f930023b320>
             └ <concurrent.futures.thread._WorkItem object at 0x7f93001ecfd0>
> File "/usr/local/lib/python3.7/contextlib.py", line 130, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ None
    │    │   │     │     └ AttributeError("'User' object has no attribute 'dict'")
    │    │   │     └ <class 'AttributeError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object get_db at 0x7f93002abe50>
    └ <contextlib._GeneratorContextManager object at 0x7f930023ac90>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/base.py", line 37, in get_db
    yield db
          └ <utils.db.DB object at 0x7f9300229550>

AttributeError: 'User' object has no attribute 'dict'
2021-09-28 16:22:21 | ERROR | h11_impl run_asgi:399 - Exception in ASGI application

Traceback (most recent call last):

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 110, in <module>
    m.run_server()
    │ └ <function Manager.run_server at 0x7f9300bad680>
    └ <__main__.Manager object at 0x7f9300bab2d0>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 105, in run_server
    server.run()
    │      └ <function Server.run at 0x7f9303575560>
    └ <uvicorn.server.Server object at 0x7f93036c50d0>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/server.py", line 49, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x7f93035755f0>
    │    │                  └ <uvicorn.server.Server object at 0x7f93036c50d0>
    │    └ <function BaseEventLoop.run_until_complete at 0x7f93037f9a70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 574, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f93037f99e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 541, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f93037fb4d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 1786, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f9303850b90>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f930023a750>(<Future finished result=False>)>
  File "/usr/local/lib/python3.7/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x7f930023a750>(<Future finished result=False>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x7f930023a750>(<Future finished result=False>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f930023a750>(<Future finished result=False>)>
> File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f9300236a70>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f930023a9d0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f9300236b00>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f930023a9d0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f930023a9d0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f93002d5d90>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f930023a9d0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f930023a9d0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f9302973c10>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f93002d5d90>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f930023a9d0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f930023a9d0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f930023a9d0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f930023a9d0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f9300b8f6d0>
          └ <fastapi.applications.FastAPI object at 0x7f9302973c10>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f930020bb00>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f930023a9d0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f9300b8f650>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f9300b8f6d0>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:5000', 'connection': 'keep-alive', 'content-length': '75', 'sec-ch-ua': '"Chromium";v="92", " Not...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f930020bb00>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f930023a9d0>>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x7f9301f5fc20>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f9300b8f650>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f9300b8f650>>, ...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f930023a9d0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f9300b8f610>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f9300b8f650>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f930020bd40>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f930023a9d0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f930296b950>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f9300b8f610>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f930020bd40>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f930023a9d0>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x7f9301f938c0>
          └ <fastapi.routing.APIRoute object at 0x7f9300bdbe50>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f930020bd40>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f930023a9d0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f9300b934d0>
          └ <fastapi.routing.APIRoute object at 0x7f9300bdbe50>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f930023a590>
                     └ <function get_request_handler.<locals>.app at 0x7f9300b93560>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
              │                 │                    └ True
              │                 └ {'form_data': <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f93002293d0>, 'db': <utils.db.DB object at 0x7f...
              └ <fastapi.dependencies.models.Dependant object at 0x7f9300b88610>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'form_data': <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f93002293d0>, 'db': <utils.db.DB object at 0x7f...
                 │         └ <function login_for_access_token at 0x7f9300bedc20>
                 └ <fastapi.dependencies.models.Dependant object at 0x7f9300b88610>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/routers/user.py", line 51, in login_for_access_token
    user = authenticate_user(form_data.username, form_data.password, db=db)
           │                 │         │         │         │            └ <utils.db.DB object at 0x7f9300229550>
           │                 │         │         │         └ '123456'
           │                 │         │         └ <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f93002293d0>
           │                 │         └ 'X2590'
           │                 └ <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f93002293d0>
           └ <function authenticate_user at 0x7f9300bedb00>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/cruds/user.py", line 63, in authenticate_user
    user = get_user_secret(username, db=db)
           │               │            └ <utils.db.DB object at 0x7f9300229550>
           │               └ 'X2590'
           └ <function get_user_secret at 0x7f9300beda70>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/cruds/user.py", line 56, in get_user_secret
    user_dict = db.session.query(User).filter(User.username == username).one().dict()
                │  │       │     │            │    │           └ 'X2590'
                │  │       │     │            │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f9300bdcd70>
                │  │       │     │            └ <class 'model.models.User'>
                │  │       │     └ <class 'model.models.User'>
                │  │       └ <function Session.query at 0x7f9302aaee60>
                │  └ <sqlalchemy.orm.session.Session object at 0x7f9300229650>
                └ <utils.db.DB object at 0x7f9300229550>

AttributeError: 'User' object has no attribute 'dict'
2021-09-28 16:24:07 | INFO | server shutdown:239 - Shutting down
2021-09-28 16:24:07 | INFO | on shutdown:43 - Waiting for application shutdown.
2021-09-28 16:24:07 | INFO | on shutdown:46 - Application shutdown complete.
2021-09-28 16:24:07 | INFO | server serve:77 - Finished server process [1635393]
2021-09-28 16:24:07 | INFO | manager __load_role_map__:69 - 共计3个角色配置
2021-09-28 16:24:08 | INFO | server serve:64 - Started server process [1635678]
2021-09-28 16:24:08 | INFO | on startup:26 - Waiting for application startup.
2021-09-28 16:24:08 | INFO | on startup:38 - Application startup complete.
2021-09-28 16:24:08 | INFO | server _log_started_message:204 - Uvicorn running on http://0.0.0.0:5000 (Press CTRL+C to quit)
2021-09-28 16:24:13 | ERROR | user authenticate_user:63 - An error has been caught in function 'authenticate_user', process 'MainProcess' (1635678), thread 'MainThread' (139800551993728):
Traceback (most recent call last):

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 110, in <module>
    m.run_server()
    │ └ <function Manager.run_server at 0x7f25d605a680>
    └ <__main__.Manager object at 0x7f25d6058290>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 105, in run_server
    server.run()
    │      └ <function Server.run at 0x7f25d8a22560>
    └ <uvicorn.server.Server object at 0x7f25d8b13b50>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/server.py", line 49, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x7f25d8a225f0>
    │    │                  └ <uvicorn.server.Server object at 0x7f25d8b13b50>
    │    └ <function BaseEventLoop.run_until_complete at 0x7f25d8ca6a70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 574, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f25d8ca69e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 541, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f25d8ca84d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 1786, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f25d8cfdb90>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f25d4ed8c90>(<Future finis...7f25d4ed8550>>)>
  File "/usr/local/lib/python3.7/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x7f25d4ed8c90>(<Future finis...7f25d4ed8550>>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x7f25d4ed8c90>(<Future finis...7f25d4ed8550>>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f25d4ed8c90>(<Future finis...7f25d4ed8550>>)>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f25d4ed6a70>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f25d4ed4090>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f25d4ed6b00>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f25d4ed4090>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f25d4ed4090>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f25d4f80650>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f25d4ed4090>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f25d4ed4090>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f25d7e20b90>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f25d4f80650>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f25d4ed4090>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f25d4ed4090>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f25d4ed4090>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f25d4ed4090>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f25d92a2b10>
          └ <fastapi.applications.FastAPI object at 0x7f25d7e20b90>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f25d4ee0b00>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f25d4ed4090>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f25d603c650>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f25d92a2b10>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:5000', 'connection': 'keep-alive', 'content-length': '75', 'sec-ch-ua': '"Chromium";v="92", " Not...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f25d4ee0b00>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f25d4ed4090>>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x7f25d740cc20>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f25d603c650>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f25d603c650>>, ...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f25d4ed4090>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f25d603c610>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f25d603c650>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f25d4ee0d40>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f25d4ed4090>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f25d7e188d0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f25d603c610>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f25d4ee0d40>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f25d4ed4090>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x7f25d74408c0>
          └ <fastapi.routing.APIRoute object at 0x7f25d6087e50>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f25d4ee0d40>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f25d4ed4090>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f25d603f4d0>
          └ <fastapi.routing.APIRoute object at 0x7f25d6087e50>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f25d4ed4810>
                     └ <function get_request_handler.<locals>.app at 0x7f25d603f560>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
              │                 │                    └ True
              │                 └ {'form_data': <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f25d4ed83d0>, 'db': <utils.db.DB object at 0x7f...
              └ <fastapi.dependencies.models.Dependant object at 0x7f25d6035610>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'form_data': <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f25d4ed83d0>, 'db': <utils.db.DB object at 0x7f...
                 │         └ <function login_for_access_token at 0x7f25d609ac20>
                 └ <fastapi.dependencies.models.Dependant object at 0x7f25d6035610>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/routers/user.py", line 51, in login_for_access_token
    user = authenticate_user(form_data.username, form_data.password, db=db)
           │                 │         │         │         │            └ <utils.db.DB object at 0x7f25d4ed8550>
           │                 │         │         │         └ '123456'
           │                 │         │         └ <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f25d4ed83d0>
           │                 │         └ 'X2590'
           │                 └ <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f25d4ed83d0>
           └ <function authenticate_user at 0x7f25d609ab00>

> File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/cruds/user.py", line 63, in authenticate_user
    user = get_user_secret(username, db=db)
           │               │            └ <utils.db.DB object at 0x7f25d4ed8550>
           │               └ 'X2590'
           └ <function get_user_secret at 0x7f25d609aa70>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/cruds/user.py", line 56, in get_user_secret
    user_dict = db.session.query(User).filter(User.username == username).one()._asdict()
                │  │       │     │            │    │           └ 'X2590'
                │  │       │     │            │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f25d6089d70>
                │  │       │     │            └ <class 'model.models.User'>
                │  │       │     └ <class 'model.models.User'>
                │  │       └ <function Session.query at 0x7f25d7f5ae60>
                │  └ <sqlalchemy.orm.session.Session object at 0x7f25d4ed8650>
                └ <utils.db.DB object at 0x7f25d4ed8550>

AttributeError: 'User' object has no attribute '_asdict'
2021-09-28 16:24:13 | INFO | h11_impl send:467 - 127.0.0.1:57124 - "POST /token HTTP/1.1" 500
2021-09-28 16:24:13 | ERROR | contextlib __exit__:130 - An error has been caught in function '__exit__', process 'MainProcess' (1635678), thread 'ThreadPoolExecutor-0_0' (139800462714624):
Traceback (most recent call last):

  File "/usr/local/lib/python3.7/threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x7f25d9309b90>
    └ <Thread(ThreadPoolExecutor-0_0, started daemon 139800462714624)>
  File "/usr/local/lib/python3.7/threading.py", line 926, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x7f25d9309950>
    └ <Thread(ThreadPoolExecutor-0_0, started daemon 139800462714624)>
  File "/usr/local/lib/python3.7/threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ThreadPoolExecutor-0_0, started daemon 139800462714624)>
    │    │        │    └ (<weakref at 0x7f25d4eeaad0; to 'ThreadPoolExecutor' at 0x7f25d4ed4350>, <_queue.SimpleQueue object at 0x7f25d4eea410>, None,...
    │    │        └ <Thread(ThreadPoolExecutor-0_0, started daemon 139800462714624)>
    │    └ <function _worker at 0x7f25d4ee5cb0>
    └ <Thread(ThreadPoolExecutor-0_0, started daemon 139800462714624)>
  File "/usr/local/lib/python3.7/concurrent/futures/thread.py", line 80, in _worker
    work_item.run()
    │         └ <function _WorkItem.run at 0x7f25d4ee5dd0>
    └ <concurrent.futures.thread._WorkItem object at 0x7f25d46896d0>
  File "/usr/local/lib/python3.7/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
             │    │   │    │       │    └ {}
             │    │   │    │       └ <concurrent.futures.thread._WorkItem object at 0x7f25d46896d0>
             │    │   │    └ [functools.partial(<bound method _GeneratorContextManager.__exit__ of <contextlib._GeneratorContextManager object at 0x7f25d4...
             │    │   └ <concurrent.futures.thread._WorkItem object at 0x7f25d46896d0>
             │    └ <built-in method run of Context object at 0x7f25d4eec2d0>
             └ <concurrent.futures.thread._WorkItem object at 0x7f25d46896d0>
> File "/usr/local/lib/python3.7/contextlib.py", line 130, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ None
    │    │   │     │     └ AttributeError("'User' object has no attribute '_asdict'")
    │    │   │     └ <class 'AttributeError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object get_db at 0x7f25d4f57e50>
    └ <contextlib._GeneratorContextManager object at 0x7f25d4ed4c90>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/base.py", line 37, in get_db
    yield db
          └ <utils.db.DB object at 0x7f25d4ed8550>

AttributeError: 'User' object has no attribute '_asdict'
2021-09-28 16:24:13 | ERROR | h11_impl run_asgi:399 - Exception in ASGI application

Traceback (most recent call last):

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 110, in <module>
    m.run_server()
    │ └ <function Manager.run_server at 0x7f25d605a680>
    └ <__main__.Manager object at 0x7f25d6058290>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/manager.py", line 105, in run_server
    server.run()
    │      └ <function Server.run at 0x7f25d8a22560>
    └ <uvicorn.server.Server object at 0x7f25d8b13b50>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/server.py", line 49, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x7f25d8a225f0>
    │    │                  └ <uvicorn.server.Server object at 0x7f25d8b13b50>
    │    └ <function BaseEventLoop.run_until_complete at 0x7f25d8ca6a70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 574, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f25d8ca69e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 541, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f25d8ca84d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.7/asyncio/base_events.py", line 1786, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f25d8cfdb90>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f25d4ed8f50>(<Future finished result=False>)>
  File "/usr/local/lib/python3.7/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x7f25d4ed8f50>(<Future finished result=False>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x7f25d4ed8f50>(<Future finished result=False>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f25d4ed8f50>(<Future finished result=False>)>
> File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x7f25d4ed6a70>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f25d4ed4090>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x7f25d4ed6b00>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f25d4ed4090>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f25d4ed4090>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f25d4f80650>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f25d4ed4090>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f25d4ed4090>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x7f25d7e20b90>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f25d4f80650>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f25d4ed4090>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f25d4ed4090>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f25d4ed4090>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f25d4ed4090>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f25d92a2b10>
          └ <fastapi.applications.FastAPI object at 0x7f25d7e20b90>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f25d4ee0b00>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f25d4ed4090>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f25d603c650>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f25d92a2b10>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:5000', 'connection': 'keep-alive', 'content-length': '75', 'sec-ch-ua': '"Chromium";v="92", " Not...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f25d4ee0b00>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f25d4ed4090>>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x7f25d740cc20>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f25d603c650>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f25d603c650>>, ...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f25d4ed4090>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f25d603c610>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f25d603c650>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f25d4ee0d40>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f25d4ed4090>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x7f25d7e188d0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f25d603c610>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f25d4ee0d40>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f25d4ed4090>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x7f25d74408c0>
          └ <fastapi.routing.APIRoute object at 0x7f25d6087e50>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f25d4ee0d40>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f25d4ed4090>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x7f25d603f4d0>
          └ <fastapi.routing.APIRoute object at 0x7f25d6087e50>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f25d4ed4810>
                     └ <function get_request_handler.<locals>.app at 0x7f25d603f560>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 202, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
              │                 │                    └ True
              │                 └ {'form_data': <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f25d4ed83d0>, 'db': <utils.db.DB object at 0x7f...
              └ <fastapi.dependencies.models.Dependant object at 0x7f25d6035610>
  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/venv/lib/python3.7/site-packages/fastapi/routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'form_data': <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f25d4ed83d0>, 'db': <utils.db.DB object at 0x7f...
                 │         └ <function login_for_access_token at 0x7f25d609ac20>
                 └ <fastapi.dependencies.models.Dependant object at 0x7f25d6035610>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/routers/user.py", line 51, in login_for_access_token
    user = authenticate_user(form_data.username, form_data.password, db=db)
           │                 │         │         │         │            └ <utils.db.DB object at 0x7f25d4ed8550>
           │                 │         │         │         └ '123456'
           │                 │         │         └ <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f25d4ed83d0>
           │                 │         └ 'X2590'
           │                 └ <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x7f25d4ed83d0>
           └ <function authenticate_user at 0x7f25d609ab00>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/cruds/user.py", line 63, in authenticate_user
    user = get_user_secret(username, db=db)
           │               │            └ <utils.db.DB object at 0x7f25d4ed8550>
           │               └ 'X2590'
           └ <function get_user_secret at 0x7f25d609aa70>

  File "/home/evi1/Documents/GitHub/pypimanager/pypimanager-deploy/pypimanager-backend/pypimanager_backend/api/cruds/user.py", line 56, in get_user_secret
    user_dict = db.session.query(User).filter(User.username == username).one()._asdict()
                │  │       │     │            │    │           └ 'X2590'
                │  │       │     │            │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f25d6089d70>
                │  │       │     │            └ <class 'model.models.User'>
                │  │       │     └ <class 'model.models.User'>
                │  │       └ <function Session.query at 0x7f25d7f5ae60>
                │  └ <sqlalchemy.orm.session.Session object at 0x7f25d4ed8650>
                └ <utils.db.DB object at 0x7f25d4ed8550>

AttributeError: 'User' object has no attribute '_asdict'
2021-09-28 16:26:08 | INFO | server shutdown:239 - Shutting down
2021-09-28 16:26:08 | INFO | on shutdown:43 - Waiting for application shutdown.
2021-09-28 16:26:08 | INFO | on shutdown:46 - Application shutdown complete.
2021-09-28 16:26:08 | INFO | server serve:77 - Finished server process [1635678]
2021-09-28 16:26:08 | INFO | manager __load_role_map__:69 - 共计3个角色配置
2021-09-28 16:26:09 | INFO | server serve:64 - Started server process [1635983]
2021-09-28 16:26:09 | INFO | on startup:26 - Waiting for application startup.
2021-09-28 16:26:09 | INFO | on startup:38 - Application startup complete.
2021-09-28 16:26:09 | INFO | server _log_started_message:204 - Uvicorn running on http://0.0.0.0:5000 (Press CTRL+C to quit)
2021-09-28 16:26:12 | INFO | h11_impl send:467 - 127.0.0.1:57232 - "POST /token HTTP/1.1" 200
2021-09-28 16:27:23 | INFO | server shutdown:239 - Shutting down
2021-09-28 16:27:24 | INFO | on shutdown:43 - Waiting for application shutdown.
2021-09-28 16:27:24 | INFO | on shutdown:46 - Application shutdown complete.
2021-09-28 16:27:24 | INFO | server serve:77 - Finished server process [1635983]
2021-09-28 16:27:24 | INFO | manager __load_role_map__:69 - 共计3个角色配置
2021-09-28 16:27:25 | INFO | server serve:64 - Started server process [1636152]
2021-09-28 16:27:25 | INFO | on startup:26 - Waiting for application startup.
2021-09-28 16:27:25 | INFO | on startup:38 - Application startup complete.
2021-09-28 16:27:25 | INFO | server _log_started_message:204 - Uvicorn running on http://0.0.0.0:5000 (Press CTRL+C to quit)
